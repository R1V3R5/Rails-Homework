

Started GET "/" for 127.0.0.1 at 2014-04-26 16:59:30 -0400
  [1m[36mActiveRecord::SchemaMigration Load (34.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by HomeController#index as HTML
  [1m[35mLocation Load (17.6ms)[0m  SELECT `locations`.* FROM `locations`
  Rendered home/index.html.haml within layouts/application (33.9ms)
Completed 200 OK in 928ms (Views: 886.4ms | ActiveRecord: 24.3ms)


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-26 16:59:31 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-26 16:59:31 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-26 16:59:31 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-26 16:59:31 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-26 16:59:31 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-26 16:59:31 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-26 16:59:31 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-26 16:59:31 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-26 16:59:31 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-26 16:59:31 -0400


Started GET "/locations/2" for 127.0.0.1 at 2014-04-26 16:59:34 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 2 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 2 AND (`patients`.`workflow_state` != 'leave')
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 2 AND `patients`.`workflow_state` = 'leave'[0m
  Rendered locations/show.html.haml within layouts/application (11.0ms)
Completed 200 OK in 62ms (Views: 14.9ms | ActiveRecord: 25.9ms)


Started GET "/locations/2/patients/new" for 127.0.0.1 at 2014-04-26 16:59:40 -0400
Processing by PatientsController#new as HTML
  Parameters: {"location_id"=>"2"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 2 LIMIT 1
  Rendered layouts/_error_messages.html.haml (3.0ms)
  Rendered patients/_form.html.haml (15.2ms)
  Rendered patients/new.html.haml within layouts/application (19.1ms)
Completed 200 OK in 26ms (Views: 23.5ms | ActiveRecord: 0.2ms)


Started POST "/locations/2/patients" for 127.0.0.1 at 2014-04-26 16:59:45 -0400
Processing by PatientsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"fDioRphh8IS5goBRtgvC/HIrz607egasOleNsyE9IzU=", "patient"=>{"name"=>"Joshua Rivers", "phone_number"=>"678-936-4443", "description"=>""}, "commit"=>"Create Patient", "location_id"=>"2"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `patients` (`created_at`, `description`, `location_id`, `name`, `phone_number`, `updated_at`, `workflow_state`) VALUES ('2014-04-26 20:59:45', '', 2, 'Joshua Rivers', '678-936-4443', '2014-04-26 20:59:45', 'waiting')[0m
  [1m[35m (6.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
Redirected to http://localhost:3000/locations/2
Completed 302 Found in 11ms (ActiveRecord: 6.8ms)


Started GET "/locations/2" for 127.0.0.1 at 2014-04-26 16:59:45 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 2 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 2 AND (`patients`.`workflow_state` != 'leave')
  [1m[36mPatient Load (0.1ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 2 AND `patients`.`workflow_state` = 'leave'[0m
  Rendered locations/show.html.haml within layouts/application (6.5ms)
Completed 200 OK in 12ms (Views: 9.9ms | ActiveRecord: 0.6ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-26 16:59:45 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-26 16:59:45 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-26 16:59:45 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-26 16:59:45 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-26 16:59:45 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-26 16:59:45 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-26 16:59:45 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-26 16:59:45 -0400


Started GET "/locations/2/patients/5" for 127.0.0.1 at 2014-04-26 16:59:49 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"2", "id"=>"5"}
  [1m[35mLocation Load (0.3ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 2 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 2 AND `patients`.`id` = 5 LIMIT 1[0m
  [1m[35mMed Load (0.1ms)[0m  SELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 5
  Rendered patients/show.html.haml within layouts/application (7.6ms)
Completed 200 OK in 14ms (Views: 9.2ms | ActiveRecord: 3.0ms)


Started GET "/locations/2/patients/5/meds/new" for 127.0.0.1 at 2014-04-26 16:59:54 -0400
Processing by MedsController#new as HTML
  Parameters: {"location_id"=>"2", "patient_id"=>"5"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 2 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 2 AND `patients`.`id` = 5 LIMIT 1
  [1m[36mMed Load (0.2ms)[0m  [1mSELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 5[0m
  Rendered meds/_form.html.haml (6.6ms)
  Rendered meds/new.html.haml within layouts/application (8.5ms)
Completed 200 OK in 20ms (Views: 12.2ms | ActiveRecord: 1.0ms)


Started POST "/locations/2/patients/5/meds" for 127.0.0.1 at 2014-04-26 16:59:58 -0400
Processing by MedsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"fDioRphh8IS5goBRtgvC/HIrz607egasOleNsyE9IzU=", "med"=>{"name"=>"Comedy", "cost"=>"$4.00", "description"=>""}, "commit"=>"Create Med", "location_id"=>"2", "patient_id"=>"5"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 2 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 2 AND `patients`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `meds` (`cost`, `created_at`, `description`, `name`, `patient_id`, `updated_at`) VALUES ('$4.00', '2014-04-26 20:59:58', '', 'Comedy', 5, '2014-04-26 20:59:58')[0m
  [1m[35m (6.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
Redirected to http://localhost:3000/locations/2/patients/5
Completed 302 Found in 12ms (ActiveRecord: 7.2ms)


Started GET "/locations/2/patients/5" for 127.0.0.1 at 2014-04-26 16:59:58 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"2", "id"=>"5"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 2 LIMIT 1[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 2 AND `patients`.`id` = 5 LIMIT 1
  [1m[36mMed Load (0.2ms)[0m  [1mSELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 5[0m
  Rendered patients/show.html.haml within layouts/application (3.4ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.5ms)


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-26 16:59:58 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-26 16:59:58 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-26 16:59:58 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-26 16:59:58 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-26 16:59:58 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-26 16:59:58 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-26 16:59:58 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-26 16:59:58 -0400


Started GET "/locations/2" for 127.0.0.1 at 2014-04-26 17:00:03 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 2 LIMIT 1
  [1m[36mPatient Load (0.3ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 2 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 2 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (2.6ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-04-26 17:00:05 -0400
Processing by HomeController#index as HTML
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT `locations`.* FROM `locations`[0m
  Rendered home/index.html.haml within layouts/application (3.2ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.2ms)


Started GET "/locations/new" for 127.0.0.1 at 2014-04-26 17:00:06 -0400
Processing by LocationsController#new as HTML
  Rendered layouts/_error_messages.html.haml (0.1ms)
  Rendered locations/_form.html.haml (4.1ms)
  Rendered locations/new.html.haml within layouts/application (5.6ms)
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.0ms)


Started POST "/locations" for 127.0.0.1 at 2014-04-26 17:00:10 -0400
Processing by LocationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"fDioRphh8IS5goBRtgvC/HIrz607egasOleNsyE9IzU=", "location"=>{"name"=>"Iron Fix", "phone_number"=>"779879"}, "commit"=>"Create Location"}
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `locations` (`created_at`, `name`, `phone_number`, `updated_at`) VALUES ('2014-04-26 21:00:10', 'Iron Fix', '779879', '2014-04-26 21:00:10')[0m
  [1m[35m (6.3ms)[0m  COMMIT
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 6.6ms)


Started GET "/" for 127.0.0.1 at 2014-04-26 17:00:10 -0400
Processing by HomeController#index as HTML
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT `locations`.* FROM `locations`[0m
  Rendered home/index.html.haml within layouts/application (1.7ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:10 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:10 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:10 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:10 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:10 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:10 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:10 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:10 -0400


Started DELETE "/locations/2" for 127.0.0.1 at 2014-04-26 17:00:12 -0400
Processing by LocationsController#destroy as HTML
  Parameters: {"authenticity_token"=>"fDioRphh8IS5goBRtgvC/HIrz607egasOleNsyE9IzU=", "id"=>"2"}
  [1m[35mLocation Load (0.3ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 2 LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM `locations` WHERE `locations`.`id` = 2[0m
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2014-04-26 17:00:12 -0400
Processing by HomeController#index as HTML
  [1m[35mLocation Load (0.2ms)[0m  SELECT `locations`.* FROM `locations`
  Rendered home/index.html.haml within layouts/application (1.5ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:12 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:12 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:12 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:12 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:12 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:12 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:12 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:12 -0400


Started DELETE "/locations/3" for 127.0.0.1 at 2014-04-26 17:00:15 -0400
Processing by LocationsController#destroy as HTML
  Parameters: {"authenticity_token"=>"fDioRphh8IS5goBRtgvC/HIrz607egasOleNsyE9IzU=", "id"=>"3"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 3 LIMIT 1[0m
  [1m[35mSQL (5.7ms)[0m  DELETE FROM `locations` WHERE `locations`.`id` = 3
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 5.9ms)


Started GET "/" for 127.0.0.1 at 2014-04-26 17:00:15 -0400
Processing by HomeController#index as HTML
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT `locations`.* FROM `locations`[0m
  Rendered home/index.html.haml within layouts/application (1.3ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:15 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:15 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:15 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:15 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:15 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:15 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:15 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:15 -0400


Started DELETE "/locations/4" for 127.0.0.1 at 2014-04-26 17:00:15 -0400
Processing by LocationsController#destroy as HTML
  Parameters: {"authenticity_token"=>"fDioRphh8IS5goBRtgvC/HIrz607egasOleNsyE9IzU=", "id"=>"4"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 4 LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM `locations` WHERE `locations`.`id` = 4[0m
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2014-04-26 17:00:15 -0400
Processing by HomeController#index as HTML
  [1m[35mLocation Load (0.2ms)[0m  SELECT `locations`.* FROM `locations`
  Rendered home/index.html.haml within layouts/application (1.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:15 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:15 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:15 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:15 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:15 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:15 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:15 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-26 17:00:15 -0400


Started GET "/locations/5/edit" for 127.0.0.1 at 2014-04-26 17:00:17 -0400
Processing by LocationsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 5 LIMIT 1[0m
  Rendered layouts/_error_messages.html.haml (0.1ms)
  Rendered locations/_form.html.haml (2.9ms)
  Rendered locations/edit.html.haml within layouts/application (4.5ms)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.2ms)


Started GET "/locations/5" for 127.0.0.1 at 2014-04-26 17:00:21 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 5 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (1.5ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.7ms)


Started GET "/locations/5/patients/new" for 127.0.0.1 at 2014-04-26 17:00:48 -0400
Processing by PatientsController#new as HTML
  Parameters: {"location_id"=>"5"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 5 LIMIT 1[0m
  Rendered layouts/_error_messages.html.haml (0.1ms)
  Rendered patients/_form.html.haml (3.6ms)
  Rendered patients/new.html.haml within layouts/application (4.3ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.2ms)


Started POST "/locations/5/patients" for 127.0.0.1 at 2014-04-26 17:03:50 -0400

SyntaxError (/Users/R1V3R5/TheIronYard/homework/database_relations/hospitals/app/controllers/patients_controller.rb:83: syntax error, unexpected ',', expecting ')'
    :name, 
          ^):
  activesupport (4.1.0) lib/active_support/dependencies.rb:443:in `load'
  activesupport (4.1.0) lib/active_support/dependencies.rb:443:in `block in load_file'
  activesupport (4.1.0) lib/active_support/dependencies.rb:633:in `new_constants_in'
  activesupport (4.1.0) lib/active_support/dependencies.rb:442:in `load_file'
  activesupport (4.1.0) lib/active_support/dependencies.rb:342:in `require_or_load'
  activesupport (4.1.0) lib/active_support/dependencies.rb:480:in `load_missing_constant'
  activesupport (4.1.0) lib/active_support/dependencies.rb:180:in `const_missing'
  activesupport (4.1.0) lib/active_support/inflector/methods.rb:238:in `const_get'
  activesupport (4.1.0) lib/active_support/inflector/methods.rb:238:in `block in constantize'
  activesupport (4.1.0) lib/active_support/inflector/methods.rb:236:in `each'
  activesupport (4.1.0) lib/active_support/inflector/methods.rb:236:in `inject'
  activesupport (4.1.0) lib/active_support/inflector/methods.rb:236:in `constantize'
  activesupport (4.1.0) lib/active_support/dependencies.rb:552:in `get'
  activesupport (4.1.0) lib/active_support/dependencies.rb:583:in `constantize'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:76:in `controller_reference'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:66:in `controller'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:44:in `call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:676:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.1.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.0) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.0) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.0) lib/rails/engine.rb:514:in `call'
  railties (4.1.0) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.6ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (20.4ms)


Started POST "/locations/5/patients" for 127.0.0.1 at 2014-04-26 17:04:02 -0400
Processing by PatientsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"fDioRphh8IS5goBRtgvC/HIrz607egasOleNsyE9IzU=", "patient"=>{"name"=>"Joshua Rivers", "phone_number"=>"770-539-3646", "description"=>""}, "commit"=>"Create Patient", "location_id"=>"5"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 5 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `patients` (`created_at`, `description`, `location_id`, `name`, `phone_number`, `updated_at`, `workflow_state`) VALUES ('2014-04-26 21:04:02', '', 5, 'Joshua Rivers', '770-539-3646', '2014-04-26 21:04:02', 'waiting')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/locations/5
Completed 302 Found in 16ms (ActiveRecord: 4.0ms)


Started GET "/locations/5" for 127.0.0.1 at 2014-04-26 17:04:02 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 5 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (2.2ms)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.7ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-26 17:04:02 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-26 17:04:02 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:02 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:02 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:02 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:02 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:02 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:02 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:02 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:02 -0400


Started PATCH "/locations/5/patients/6/doctor" for 127.0.0.1 at 2014-04-26 17:04:06 -0400
Processing by PatientsController#doctor as HTML
  Parameters: {"authenticity_token"=>"fDioRphh8IS5goBRtgvC/HIrz607egasOleNsyE9IzU=", "location_id"=>"5", "id"=>"6"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 5 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND `patients`.`id` = 6 LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE `patients` SET `patients`.`workflow_state` = 'doctor' WHERE `patients`.`id` = 6[0m
Redirected to http://localhost:3000/locations/5
Completed 302 Found in 4ms (ActiveRecord: 1.4ms)


Started GET "/locations/5" for 127.0.0.1 at 2014-04-26 17:04:06 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mLocation Load (0.3ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 5 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (1.9ms)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.6ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-26 17:04:06 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-26 17:04:06 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:06 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:06 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:06 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:06 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:06 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:06 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:06 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:06 -0400


Started PATCH "/locations/5/patients/6/surgery" for 127.0.0.1 at 2014-04-26 17:04:07 -0400
Processing by PatientsController#surgery as HTML
  Parameters: {"authenticity_token"=>"fDioRphh8IS5goBRtgvC/HIrz607egasOleNsyE9IzU=", "location_id"=>"5", "id"=>"6"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 5 LIMIT 1[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND `patients`.`id` = 6 LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE `patients` SET `patients`.`workflow_state` = 'surgery' WHERE `patients`.`id` = 6[0m
Redirected to http://localhost:3000/locations/5
Completed 302 Found in 4ms (ActiveRecord: 1.4ms)


Started GET "/locations/5" for 127.0.0.1 at 2014-04-26 17:04:07 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 5 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (2.1ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.7ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-26 17:04:07 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:07 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-26 17:04:07 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:07 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:07 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:07 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:07 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:07 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:07 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:07 -0400


Started PATCH "/locations/5/patients/6/xray" for 127.0.0.1 at 2014-04-26 17:04:11 -0400
Processing by PatientsController#xray as HTML
  Parameters: {"authenticity_token"=>"fDioRphh8IS5goBRtgvC/HIrz607egasOleNsyE9IzU=", "location_id"=>"5", "id"=>"6"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 5 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND `patients`.`id` = 6 LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `patients` SET `patients`.`workflow_state` = 'xray' WHERE `patients`.`id` = 6[0m
Redirected to http://localhost:3000/locations/5
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)


Started GET "/locations/5" for 127.0.0.1 at 2014-04-26 17:04:11 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 5 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (1.7ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.5ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-26 17:04:11 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:11 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:11 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:11 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:11 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-26 17:04:11 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:11 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:11 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:11 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:11 -0400


Started PATCH "/locations/5/patients/6/doctor" for 127.0.0.1 at 2014-04-26 17:04:14 -0400
Processing by PatientsController#doctor as HTML
  Parameters: {"authenticity_token"=>"fDioRphh8IS5goBRtgvC/HIrz607egasOleNsyE9IzU=", "location_id"=>"5", "id"=>"6"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 5 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND `patients`.`id` = 6 LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE `patients` SET `patients`.`workflow_state` = 'doctor' WHERE `patients`.`id` = 6[0m
Redirected to http://localhost:3000/locations/5
Completed 302 Found in 4ms (ActiveRecord: 1.4ms)


Started GET "/locations/5" for 127.0.0.1 at 2014-04-26 17:04:14 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 5 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (1.8ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.6ms)


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:14 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-26 17:04:14 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-26 17:04:14 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:14 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:14 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:14 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:14 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:14 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:14 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:14 -0400


Started PATCH "/locations/5/patients/6/surgery" for 127.0.0.1 at 2014-04-26 17:04:16 -0400
Processing by PatientsController#surgery as HTML
  Parameters: {"authenticity_token"=>"fDioRphh8IS5goBRtgvC/HIrz607egasOleNsyE9IzU=", "location_id"=>"5", "id"=>"6"}
  [1m[36mLocation Load (0.3ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 5 LIMIT 1[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND `patients`.`id` = 6 LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE `patients` SET `patients`.`workflow_state` = 'surgery' WHERE `patients`.`id` = 6[0m
Redirected to http://localhost:3000/locations/5
Completed 302 Found in 4ms (ActiveRecord: 1.4ms)


Started GET "/locations/5" for 127.0.0.1 at 2014-04-26 17:04:16 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 5 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (1.9ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.5ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-26 17:04:16 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-26 17:04:16 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:16 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:16 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:16 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:16 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:16 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:16 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:16 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:16 -0400


Started PATCH "/locations/5/patients/6/pay" for 127.0.0.1 at 2014-04-26 17:04:17 -0400
Processing by PatientsController#pay as HTML
  Parameters: {"authenticity_token"=>"fDioRphh8IS5goBRtgvC/HIrz607egasOleNsyE9IzU=", "location_id"=>"5", "id"=>"6"}
  [1m[36mLocation Load (0.3ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 5 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND `patients`.`id` = 6 LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `patients` SET `patients`.`workflow_state` = 'pay' WHERE `patients`.`id` = 6[0m
Redirected to http://localhost:3000/locations/5
Completed 302 Found in 4ms (ActiveRecord: 1.4ms)


Started GET "/locations/5" for 127.0.0.1 at 2014-04-26 17:04:17 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 5 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (1.9ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.6ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-26 17:04:17 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-26 17:04:17 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:17 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:17 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:17 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:17 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:17 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:17 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:17 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:17 -0400


Started PATCH "/locations/5/patients/6/leave" for 127.0.0.1 at 2014-04-26 17:04:20 -0400
Processing by PatientsController#leave as HTML
  Parameters: {"authenticity_token"=>"fDioRphh8IS5goBRtgvC/HIrz607egasOleNsyE9IzU=", "location_id"=>"5", "id"=>"6"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 5 LIMIT 1[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND `patients`.`id` = 6 LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE `patients` SET `patients`.`workflow_state` = 'leave' WHERE `patients`.`id` = 6[0m
Redirected to http://localhost:3000/locations/5
Completed 302 Found in 4ms (ActiveRecord: 1.4ms)


Started GET "/locations/5" for 127.0.0.1 at 2014-04-26 17:04:20 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mLocation Load (0.3ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 5 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (1.5ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.6ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:20 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-26 17:04:20 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:20 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-26 17:04:20 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:20 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:20 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:20 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:20 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:20 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-26 17:04:20 -0400


Started GET "/locations/5/patients/6" for 127.0.0.1 at 2014-04-26 17:04:22 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"5", "id"=>"6"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 5 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND `patients`.`id` = 6 LIMIT 1
  [1m[36mMed Load (0.2ms)[0m  [1mSELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 6[0m
  Rendered patients/show.html.haml within layouts/application (5.2ms)
Completed 200 OK in 12ms (Views: 7.4ms | ActiveRecord: 2.5ms)


Started GET "/locations/5" for 127.0.0.1 at 2014-04-26 17:04:25 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mLocation Load (0.3ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 5 LIMIT 1
  [1m[36mPatient Load (0.3ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (2.0ms)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.8ms)


Started GET "/locations/5/patients/6" for 127.0.0.1 at 2014-04-26 17:04:26 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"5", "id"=>"6"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 5 LIMIT 1[0m
  [1m[35mPatient Load (0.3ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND `patients`.`id` = 6 LIMIT 1
  [1m[36mMed Load (0.2ms)[0m  [1mSELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 6[0m
  Rendered patients/show.html.haml within layouts/application (1.6ms)
Completed 200 OK in 9ms (Views: 5.6ms | ActiveRecord: 0.7ms)


Started GET "/locations/5" for 127.0.0.1 at 2014-04-26 17:04:29 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mLocation Load (0.3ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 5 LIMIT 1
  [1m[36mPatient Load (0.3ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 5 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (1.9ms)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-04-26 17:04:31 -0400
Processing by HomeController#index as HTML
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT `locations`.* FROM `locations`[0m
  Rendered home/index.html.haml within layouts/application (2.9ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.2ms)


Started GET "/locations/new" for 127.0.0.1 at 2014-04-26 17:04:32 -0400
Processing by LocationsController#new as HTML
  Rendered layouts/_error_messages.html.haml (0.1ms)
  Rendered locations/_form.html.haml (2.9ms)
  Rendered locations/new.html.haml within layouts/application (3.6ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-04-26 17:04:36 -0400
Processing by HomeController#index as HTML
  [1m[35mLocation Load (0.2ms)[0m  SELECT `locations`.* FROM `locations`
  Rendered home/index.html.haml within layouts/application (1.4ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2014-04-27 22:17:07 -0400
  [1m[36mActiveRecord::SchemaMigration Load (25.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by HomeController#index as HTML
  [1m[35mLocation Load (18.7ms)[0m  SELECT `locations`.* FROM `locations`
  Rendered home/index.html.haml within layouts/application (33.6ms)
Completed 200 OK in 102ms (Views: 65.3ms | ActiveRecord: 25.3ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:17:07 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:17:07 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:17:07 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:17:07 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:17:07 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:17:07 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:17:07 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:17:07 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:17:07 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:17:07 -0400


Started DELETE "/locations/5" for 127.0.0.1 at 2014-04-27 22:17:12 -0400
Processing by LocationsController#destroy as HTML
  Parameters: {"authenticity_token"=>"guZWXxWM7m43YZZ7QZBtvfNh4ExEhIvA8n6oTgjQ8sQ=", "id"=>"5"}
  [1m[36mLocation Load (18.0ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 5 LIMIT 1[0m
  [1m[35mSQL (17.5ms)[0m  DELETE FROM `locations` WHERE `locations`.`id` = 5
Redirected to http://localhost:1234/
Completed 302 Found in 42ms (ActiveRecord: 35.5ms)


Started GET "/" for 127.0.0.1 at 2014-04-27 22:17:12 -0400
Processing by HomeController#index as HTML
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT `locations`.* FROM `locations`[0m
  Rendered home/index.html.haml within layouts/application (0.7ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.2ms)


Started GET "/locations/new" for 127.0.0.1 at 2014-04-27 22:17:13 -0400
Processing by LocationsController#new as HTML
  Rendered layouts/_error_messages.html.haml (3.0ms)
  Rendered locations/_form.html.haml (13.5ms)
  Rendered locations/new.html.haml within layouts/application (17.3ms)
Completed 200 OK in 23ms (Views: 22.4ms | ActiveRecord: 0.0ms)


Started GET "/locations/new" for 127.0.0.1 at 2014-04-27 22:25:26 -0400
Processing by LocationsController#new as HTML
  Rendered layouts/_error_messages.html.haml (0.7ms)
  Rendered locations/_form.html.haml (4.2ms)
  Rendered locations/new.html.haml within layouts/application (5.5ms)
Completed 200 OK in 20ms (Views: 19.5ms | ActiveRecord: 0.0ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:25:26 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:25:26 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:25:26 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:25:26 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:25:26 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:25:26 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:25:26 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:25:26 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:25:26 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:25:26 -0400


Started GET "/locations/new" for 127.0.0.1 at 2014-04-27 22:25:52 -0400
Processing by LocationsController#new as HTML
  Rendered layouts/_error_messages.html.haml (0.1ms)
  Rendered locations/_form.html.haml (2.4ms)
  Rendered locations/new.html.haml within layouts/application (4.0ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:25:52 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:25:52 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:25:52 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:25:52 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:25:52 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:25:52 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:25:52 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:25:52 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:25:52 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:25:52 -0400


Started GET "/assets/styles.css?body=1&livereload=1398651963120" for 127.0.0.1 at 2014-04-27 22:26:03 -0400


Started GET "/locations/new" for 127.0.0.1 at 2014-04-27 22:36:57 -0400
Processing by LocationsController#new as HTML
  Rendered layouts/_error_messages.html.haml (0.1ms)
  Rendered locations/_form.html.haml (2.4ms)
  Rendered locations/new.html.haml within layouts/application (3.0ms)
Completed 200 OK in 13ms (Views: 12.8ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:36:57 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:36:57 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:36:57 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:36:57 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:36:57 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:36:57 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:36:57 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:36:57 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:36:57 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:36:57 -0400


Started GET "/locations/new" for 127.0.0.1 at 2014-04-27 22:39:21 -0400
Processing by LocationsController#new as HTML
  Rendered layouts/_error_messages.html.haml (0.1ms)
  Rendered locations/_form.html.haml (3.8ms)
  Rendered locations/new.html.haml within layouts/application (4.5ms)
Completed 200 OK in 8ms (Views: 8.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:39:21 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:39:21 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:39:21 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:39:21 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:39:21 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:39:21 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:39:21 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:39:21 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:39:21 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:39:21 -0400


Started GET "/locations/new" for 127.0.0.1 at 2014-04-27 22:39:30 -0400
Processing by LocationsController#new as HTML
  Rendered layouts/_error_messages.html.haml (0.0ms)
  Rendered locations/_form.html.haml (3.7ms)
  Rendered locations/new.html.haml within layouts/application (4.3ms)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:39:30 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:39:30 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:39:30 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:39:30 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:39:30 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:39:30 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:39:30 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:39:30 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:39:30 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:39:30 -0400


Started GET "/locations/new" for 127.0.0.1 at 2014-04-27 22:40:16 -0400
Processing by LocationsController#new as HTML
  Rendered layouts/_error_messages.html.haml (0.0ms)
  Rendered locations/_form.html.haml (4.2ms)
  Rendered locations/new.html.haml within layouts/application (4.9ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.0ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:40:16 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:40:16 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:40:16 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:40:16 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:40:16 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:40:16 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:40:16 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:40:16 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:40:16 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:40:16 -0400


Started GET "/assets/styles.css?body=1&livereload=1398652875377" for 127.0.0.1 at 2014-04-27 22:41:15 -0400


Started GET "/locations/new" for 127.0.0.1 at 2014-04-27 22:41:23 -0400
Processing by LocationsController#new as HTML
  Rendered layouts/_error_messages.html.haml (0.1ms)
  Rendered locations/_form.html.haml (10.9ms)
  Rendered locations/new.html.haml within layouts/application (11.6ms)
Completed 500 Internal Server Error in 14ms

ActionView::Template::Error (undefined local variable or method `f' for #<#<Class:0x0000010540b590>:0x00000102b7eaa0>):
    4:   %table
    5:     %td
    6:       %tr
    7:         =f.label :name
    8:         =f.text_field :name, placeholder: "Name"
    9:       %tr
   10:         =f.label :phone_number
  app/views/locations/_form.html.haml:7:in `_app_views_locations__form_html_haml___1775466344847817383_2170229820'
  app/views/locations/new.html.haml:2:in `_app_views_locations_new_html_haml___2095551778933162208_2170779060'


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (13.6ms)


Started GET "/locations/new" for 127.0.0.1 at 2014-04-27 22:41:38 -0400
Processing by LocationsController#new as HTML
  Rendered layouts/_error_messages.html.haml (0.0ms)
  Rendered locations/_form.html.haml (10.2ms)
  Rendered locations/new.html.haml within layouts/application (10.8ms)
Completed 500 Internal Server Error in 12ms

ActionView::Template::Error (undefined local variable or method `f' for #<#<Class:0x0000010540b590>:0x000001056c44d0>):
    4:   %table
    5:     %td
    6:       %tr
    7:       =f.label :name
    8:       =f.text_field :name, placeholder: "Name"
    9:       %tr
   10:         =f.label :phone_number
  app/views/locations/_form.html.haml:7:in `_app_views_locations__form_html_haml___1775466344847817383_2192943820'
  app/views/locations/new.html.haml:2:in `_app_views_locations_new_html_haml___2095551778933162208_2170779060'


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (8.9ms)


Started GET "/locations/new" for 127.0.0.1 at 2014-04-27 22:41:47 -0400
Processing by LocationsController#new as HTML
  Rendered layouts/_error_messages.html.haml (0.1ms)
  Rendered locations/_form.html.haml (3.7ms)
  Rendered locations/new.html.haml within layouts/application (4.3ms)
Completed 200 OK in 15ms (Views: 14.6ms | ActiveRecord: 0.0ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:41:47 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:41:47 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:41:47 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:41:47 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:41:47 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:41:47 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:41:47 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:41:47 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:41:47 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:41:47 -0400


Started GET "/locations/new" for 127.0.0.1 at 2014-04-27 22:42:01 -0400
Processing by LocationsController#new as HTML
  Rendered layouts/_error_messages.html.haml (0.1ms)
  Rendered locations/_form.html.haml (3.7ms)
  Rendered locations/new.html.haml within layouts/application (4.3ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:42:01 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:42:01 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:42:01 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:42:01 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:42:01 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:42:01 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:42:01 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:42:01 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:42:01 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:42:01 -0400


Started GET "/locations/new" for 127.0.0.1 at 2014-04-27 22:42:09 -0400
Processing by LocationsController#new as HTML
  Rendered layouts/_error_messages.html.haml (0.0ms)
  Rendered locations/_form.html.haml (3.8ms)
  Rendered locations/new.html.haml within layouts/application (4.4ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:42:09 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:42:09 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:42:09 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:42:09 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:42:09 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:42:09 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:42:09 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:42:09 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:42:09 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:42:09 -0400


Started GET "/locations/new" for 127.0.0.1 at 2014-04-27 22:42:21 -0400
Processing by LocationsController#new as HTML
  Rendered layouts/_error_messages.html.haml (0.0ms)
  Rendered locations/_form.html.haml (3.8ms)
  Rendered locations/new.html.haml within layouts/application (4.5ms)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:42:21 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:42:21 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:42:21 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:42:21 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:42:21 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:42:21 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:42:21 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:42:21 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:42:21 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:42:21 -0400


Started GET "/locations/new" for 127.0.0.1 at 2014-04-27 22:43:12 -0400
Processing by LocationsController#new as HTML
  Rendered locations/_form.html.haml (1.6ms)
  Rendered locations/new.html.haml within layouts/application (2.2ms)
Completed 500 Internal Server Error in 4ms

SyntaxError (/Users/R1V3R5/TheIronYard/homework/database_relations/hospitals/app/views/locations/_form.html.haml:16: syntax error, unexpected keyword_ensure, expecting end-of-input):
  app/views/locations/new.html.haml:2:in `_app_views_locations_new_html_haml___2095551778933162208_2170779060'


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.5ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.3ms)


Started GET "/locations/new" for 127.0.0.1 at 2014-04-27 22:43:16 -0400
Processing by LocationsController#new as HTML
  Rendered layouts/_error_messages.html.haml (0.0ms)
  Rendered locations/_form.html.haml (9.2ms)
  Rendered locations/new.html.haml within layouts/application (9.8ms)
Completed 500 Internal Server Error in 12ms

ActionView::Template::Error (undefined local variable or method `f' for #<#<Class:0x0000010540b590>:0x000001055c70c8>):
     9:       =f.text_field :phone_number, placeholder: "Phone Number"
    10:       %br
    11:       
    12:   =f.submit
    13: %hr
    14: = link_to "Home", root_path
  app/views/locations/_form.html.haml:12:in `_app_views_locations__form_html_haml___1775466344847817383_2192433900'
  app/views/locations/new.html.haml:2:in `_app_views_locations_new_html_haml___2095551778933162208_2170779060'


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (11.0ms)


Started GET "/locations/new" for 127.0.0.1 at 2014-04-27 22:43:20 -0400
Processing by LocationsController#new as HTML
  Rendered layouts/_error_messages.html.haml (0.0ms)
  Rendered locations/_form.html.haml (3.9ms)
  Rendered locations/new.html.haml within layouts/application (4.5ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:43:20 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:43:20 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:43:20 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:43:20 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:43:20 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:43:20 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:43:20 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:43:20 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:43:20 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:43:20 -0400


Started GET "/locations/new" for 127.0.0.1 at 2014-04-27 22:43:27 -0400
Processing by LocationsController#new as HTML
  Rendered layouts/_error_messages.html.haml (0.0ms)
  Rendered locations/_form.html.haml (3.6ms)
  Rendered locations/new.html.haml within layouts/application (4.2ms)
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.0ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:43:27 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:43:27 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:43:27 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:43:27 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:43:27 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:43:27 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:43:27 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:43:27 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:43:27 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:43:27 -0400


Started GET "/locations/new" for 127.0.0.1 at 2014-04-27 22:43:30 -0400
Processing by LocationsController#new as HTML
  Rendered locations/_form.html.haml (0.7ms)
  Rendered locations/new.html.haml within layouts/application (1.3ms)
Completed 500 Internal Server Error in 3ms

ActionView::Template::Error (The line was indented 2 levels deeper than the previous line.):
    11:       
    12:     =f.submit
    13: %hr
    14:     = link_to "Home", root_path
  app/views/locations/_form.html.haml:14
  app/views/locations/new.html.haml:2:in `_app_views_locations_new_html_haml___2095551778933162208_2170779060'


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (9.2ms)


Started GET "/locations/new" for 127.0.0.1 at 2014-04-27 22:43:45 -0400
Processing by LocationsController#new as HTML
  Rendered layouts/_error_messages.html.haml (0.1ms)
  Rendered locations/_form.html.haml (4.0ms)
  Rendered locations/new.html.haml within layouts/application (4.7ms)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.0ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:43:45 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:43:45 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:43:45 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:43:45 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:43:45 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:43:45 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:43:45 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:43:45 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:43:45 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:43:45 -0400


Started POST "/locations" for 127.0.0.1 at 2014-04-27 22:44:04 -0400
Processing by LocationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"guZWXxWM7m43YZZ7QZBtvfNh4ExEhIvA8n6oTgjQ8sQ=", "location"=>{"name"=>"Iron Fix", "phone_number"=>"123-456-7890"}, "commit"=>"Create Location"}
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `locations` (`created_at`, `name`, `phone_number`, `updated_at`) VALUES ('2014-04-28 02:44:04', 'Iron Fix', '123-456-7890', '2014-04-28 02:44:04')[0m
  [1m[35m (11.4ms)[0m  COMMIT
Redirected to http://localhost:1234/
Completed 302 Found in 14ms (ActiveRecord: 11.7ms)


Started GET "/" for 127.0.0.1 at 2014-04-27 22:44:04 -0400
Processing by HomeController#index as HTML
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT `locations`.* FROM `locations`[0m
  Rendered home/index.html.haml within layouts/application (1.0ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.2ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:44:04 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:44:04 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:44:04 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:44:04 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:44:04 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:44:04 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:44:04 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:44:04 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:44:04 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:44:04 -0400


Started GET "/assets/styles.css?body=1&livereload=1398653070692" for 127.0.0.1 at 2014-04-27 22:44:30 -0400


Started GET "/" for 127.0.0.1 at 2014-04-27 22:44:44 -0400
Processing by HomeController#index as HTML
  [1m[35mLocation Load (0.2ms)[0m  SELECT `locations`.* FROM `locations`
  Rendered home/index.html.haml within layouts/application (2.4ms)
Completed 200 OK in 13ms (Views: 12.2ms | ActiveRecord: 0.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:44:44 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:44:44 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:44:44 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:44:44 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:44:44 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:44:44 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:44:44 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:44:44 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:44:44 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:44:44 -0400


Started GET "/" for 127.0.0.1 at 2014-04-27 22:45:40 -0400
Processing by HomeController#index as HTML
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT `locations`.* FROM `locations`[0m
  Rendered home/index.html.haml within layouts/application (2.4ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.2ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:45:40 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:45:40 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:45:40 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:45:40 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:45:40 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:45:40 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:45:40 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:45:40 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:45:40 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:45:40 -0400


Started GET "/" for 127.0.0.1 at 2014-04-27 22:45:47 -0400
Processing by HomeController#index as HTML
  [1m[35mLocation Load (0.2ms)[0m  SELECT `locations`.* FROM `locations`
  Rendered home/index.html.haml within layouts/application (2.6ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:45:47 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:45:47 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:45:47 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:45:47 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:45:47 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:45:47 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:45:47 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:45:47 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:45:47 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:45:47 -0400


Started GET "/assets/styles.css?body=1&livereload=1398653267463" for 127.0.0.1 at 2014-04-27 22:47:47 -0400


Started GET "/" for 127.0.0.1 at 2014-04-27 22:47:53 -0400
Processing by HomeController#index as HTML
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT `locations`.* FROM `locations`[0m
  Rendered home/index.html.haml within layouts/application (6.1ms)
Completed 200 OK in 17ms (Views: 16.2ms | ActiveRecord: 0.2ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:47:53 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:47:53 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:47:53 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:47:53 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:47:53 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:47:53 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:47:53 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:47:53 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:47:53 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:47:53 -0400


Started GET "/locations/new" for 127.0.0.1 at 2014-04-27 22:47:56 -0400
Processing by LocationsController#new as HTML
  Rendered layouts/_error_messages.html.haml (0.0ms)
  Rendered locations/_form.html.haml (4.2ms)
  Rendered locations/new.html.haml within layouts/application (5.8ms)
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.0ms)


Started POST "/locations" for 127.0.0.1 at 2014-04-27 22:48:02 -0400
Processing by LocationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"guZWXxWM7m43YZZ7QZBtvfNh4ExEhIvA8n6oTgjQ8sQ=", "location"=>{"name"=>"Git er' Dun", "phone_number"=>"1"}, "commit"=>"Create Location"}
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `locations` (`created_at`, `name`, `phone_number`, `updated_at`) VALUES ('2014-04-28 02:48:02', 'Git er\' Dun', '1', '2014-04-28 02:48:02')[0m
  [1m[35m (6.2ms)[0m  COMMIT
Redirected to http://localhost:1234/
Completed 302 Found in 9ms (ActiveRecord: 6.4ms)


Started GET "/" for 127.0.0.1 at 2014-04-27 22:48:02 -0400
Processing by HomeController#index as HTML
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT `locations`.* FROM `locations`[0m
  Rendered home/index.html.haml within layouts/application (1.3ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.2ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:48:02 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:02 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:48:02 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:02 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:02 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:02 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:02 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:02 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:02 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:02 -0400


Started GET "/" for 127.0.0.1 at 2014-04-27 22:48:15 -0400
Processing by HomeController#index as HTML
  [1m[35mLocation Load (0.2ms)[0m  SELECT `locations`.* FROM `locations`
  Rendered home/index.html.haml within layouts/application (2.9ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:15 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:15 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:48:15 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:48:15 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:15 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:15 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:15 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:15 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:15 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:15 -0400


Started GET "/" for 127.0.0.1 at 2014-04-27 22:48:23 -0400
Processing by HomeController#index as HTML
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT `locations`.* FROM `locations`[0m
  Rendered home/index.html.haml within layouts/application (2.7ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.2ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:48:23 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:23 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:48:23 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:23 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:23 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:23 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:23 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:23 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:23 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:23 -0400


Started GET "/" for 127.0.0.1 at 2014-04-27 22:48:28 -0400
Processing by HomeController#index as HTML
  [1m[35mLocation Load (0.2ms)[0m  SELECT `locations`.* FROM `locations`
  Rendered home/index.html.haml within layouts/application (2.8ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:28 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:28 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:48:28 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:28 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:48:28 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:28 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:28 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:28 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:28 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:28 -0400


Started GET "/" for 127.0.0.1 at 2014-04-27 22:48:32 -0400
Processing by HomeController#index as HTML
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT `locations`.* FROM `locations`[0m
  Rendered home/index.html.haml within layouts/application (2.7ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.2ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:48:32 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:32 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:32 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:32 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:48:32 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:32 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:32 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:32 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:32 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:32 -0400


Started GET "/locations/new" for 127.0.0.1 at 2014-04-27 22:48:38 -0400
Processing by LocationsController#new as HTML
  Rendered layouts/_error_messages.html.haml (0.1ms)
  Rendered locations/_form.html.haml (2.4ms)
  Rendered locations/new.html.haml within layouts/application (3.0ms)
Completed 200 OK in 7ms (Views: 6.9ms | ActiveRecord: 0.0ms)


Started POST "/locations" for 127.0.0.1 at 2014-04-27 22:48:42 -0400
Processing by LocationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"guZWXxWM7m43YZZ7QZBtvfNh4ExEhIvA8n6oTgjQ8sQ=", "location"=>{"name"=>"sdklh", "phone_number"=>""}, "commit"=>"Create Location"}
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `locations` (`created_at`, `name`, `phone_number`, `updated_at`) VALUES ('2014-04-28 02:48:42', 'sdklh', '', '2014-04-28 02:48:42')[0m
  [1m[35m (11.4ms)[0m  COMMIT
Redirected to http://localhost:1234/
Completed 302 Found in 14ms (ActiveRecord: 11.7ms)


Started GET "/" for 127.0.0.1 at 2014-04-27 22:48:42 -0400
Processing by HomeController#index as HTML
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT `locations`.* FROM `locations`[0m
  Rendered home/index.html.haml within layouts/application (1.4ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.2ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:48:42 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:48:42 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:42 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:42 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:42 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:42 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:42 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:42 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:42 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:42 -0400


Started GET "/" for 127.0.0.1 at 2014-04-27 22:48:56 -0400
Processing by HomeController#index as HTML
  [1m[35mLocation Load (0.2ms)[0m  SELECT `locations`.* FROM `locations`
  Rendered home/index.html.haml within layouts/application (3.0ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.2ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:48:56 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:56 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:48:56 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:56 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:56 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:56 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:56 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:56 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:56 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:48:56 -0400


Started GET "/" for 127.0.0.1 at 2014-04-27 22:49:05 -0400
Processing by HomeController#index as HTML
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT `locations`.* FROM `locations`[0m
  Rendered home/index.html.haml within layouts/application (2.9ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.2ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:49:05 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:49:05 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:49:05 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:49:05 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:49:05 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:49:05 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:49:05 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:49:05 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:49:05 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:49:05 -0400


Started GET "/" for 127.0.0.1 at 2014-04-27 22:49:11 -0400
Processing by HomeController#index as HTML
  [1m[35mLocation Load (0.3ms)[0m  SELECT `locations`.* FROM `locations`
  Rendered home/index.html.haml within layouts/application (3.1ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.3ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:49:11 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:49:11 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:49:11 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:49:11 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:49:11 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:49:11 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:49:11 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:49:11 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:49:11 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:49:11 -0400


Started GET "/" for 127.0.0.1 at 2014-04-27 22:49:40 -0400
Processing by HomeController#index as HTML
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT `locations`.* FROM `locations`[0m
  Rendered home/index.html.haml within layouts/application (6.6ms)
Completed 200 OK in 10ms (Views: 9.7ms | ActiveRecord: 0.2ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 22:49:40 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 22:49:40 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 22:49:40 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 22:49:40 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 22:49:40 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 22:49:40 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 22:49:40 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 22:49:40 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 22:49:40 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 22:49:40 -0400


Started GET "/" for 127.0.0.1 at 2014-04-27 23:25:28 -0400
Processing by HomeController#index as HTML
  [1m[35mLocation Load (0.2ms)[0m  SELECT `locations`.* FROM `locations`
  Rendered home/index.html.haml within layouts/application (1.5ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.2ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:25:28 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:25:28 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:25:28 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:25:28 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:25:28 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:25:28 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:25:28 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:25:28 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:25:28 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:25:28 -0400


Started GET "/locations/7/edit" for 127.0.0.1 at 2014-04-27 23:25:35 -0400
Processing by LocationsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 7 LIMIT 1[0m
  Rendered layouts/_error_messages.html.haml (0.1ms)
  Rendered locations/_form.html.haml (3.2ms)
  Rendered locations/edit.html.haml within layouts/application (5.1ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.2ms)


Started GET "/locations/new" for 127.0.0.1 at 2014-04-27 23:26:04 -0400
Processing by LocationsController#new as HTML
  Rendered layouts/_error_messages.html.haml (0.1ms)
  Rendered locations/_form.html.haml (2.8ms)
  Rendered locations/new.html.haml within layouts/application (3.5ms)
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.0ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:26:21 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (5.5ms)
Completed 200 OK in 53ms (Views: 8.6ms | ActiveRecord: 29.7ms)


Started GET "/locations/8/patients/new" for 127.0.0.1 at 2014-04-27 23:26:23 -0400
Processing by PatientsController#new as HTML
  Parameters: {"location_id"=>"8"}
  [1m[36mLocation Load (0.3ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  Rendered layouts/_error_messages.html.haml (0.1ms)
  Rendered patients/_form.html.haml (6.0ms)
  Rendered patients/new.html.haml within layouts/application (8.0ms)
Completed 200 OK in 18ms (Views: 12.4ms | ActiveRecord: 0.4ms)


Started POST "/locations/8/patients" for 127.0.0.1 at 2014-04-27 23:26:44 -0400
Processing by PatientsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"guZWXxWM7m43YZZ7QZBtvfNh4ExEhIvA8n6oTgjQ8sQ=", "patient"=>{"name"=>"Joshua Rivers", "phone_number"=>"", "description"=>""}, "commit"=>"Create Patient", "location_id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `patients` (`created_at`, `description`, `location_id`, `name`, `phone_number`, `updated_at`, `workflow_state`) VALUES ('2014-04-28 03:26:44', '', 8, 'Joshua Rivers', '', '2014-04-28 03:26:44', 'waiting')
  [1m[36m (6.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:1234/locations/8
Completed 302 Found in 11ms (ActiveRecord: 6.8ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:26:44 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (5.8ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.6ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:26:44 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:26:44 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:26:44 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:26:44 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:26:44 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:26:44 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:26:44 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:26:44 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:26:44 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:26:44 -0400


Started GET "/locations/8/patients/new" for 127.0.0.1 at 2014-04-27 23:26:46 -0400
Processing by PatientsController#new as HTML
  Parameters: {"location_id"=>"8"}
  [1m[36mLocation Load (0.3ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  Rendered layouts/_error_messages.html.haml (0.1ms)
  Rendered patients/_form.html.haml (3.4ms)
  Rendered patients/new.html.haml within layouts/application (4.2ms)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.3ms)


Started POST "/locations/8/patients" for 127.0.0.1 at 2014-04-27 23:26:49 -0400
Processing by PatientsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"guZWXxWM7m43YZZ7QZBtvfNh4ExEhIvA8n6oTgjQ8sQ=", "patient"=>{"name"=>"Joshua", "phone_number"=>"", "description"=>""}, "commit"=>"Create Patient", "location_id"=>"8"}
  [1m[35mLocation Load (0.3ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `patients` (`created_at`, `description`, `location_id`, `name`, `phone_number`, `updated_at`, `workflow_state`) VALUES ('2014-04-28 03:26:49', '', 8, 'Joshua', '', '2014-04-28 03:26:49', 'waiting')
  [1m[36m (6.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:1234/locations/8
Completed 302 Found in 11ms (ActiveRecord: 7.5ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:26:49 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (2.3ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.5ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:26:49 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:26:49 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:26:49 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:26:49 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:26:49 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:26:49 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:26:49 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:26:49 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:26:49 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:26:49 -0400


Started GET "/assets/styles.css?body=1&livereload=1398655650939" for 127.0.0.1 at 2014-04-27 23:27:30 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:27:34 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLocation Load (0.3ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')
  [1m[36mPatient Load (0.1ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'[0m
  Rendered locations/show.html.haml within layouts/application (2.5ms)
Completed 200 OK in 14ms (Views: 12.2ms | ActiveRecord: 0.6ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:27:34 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:27:34 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:27:34 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:27:34 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:27:34 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:27:34 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:27:34 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:27:34 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:27:34 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:27:34 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:29:53 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.3ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (5.9ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.6ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:29:53 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:29:53 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:29:53 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:29:53 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:29:53 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:29:53 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:29:53 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:29:53 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:29:53 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:29:53 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:30:45 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')
  [1m[36mPatient Load (0.1ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'[0m
  Rendered locations/show.html.haml within layouts/application (6.2ms)
Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 0.6ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:30:45 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:30:45 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:30:45 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:30:45 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:30:45 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:30:45 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:30:45 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:30:45 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:30:45 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:30:45 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:31:11 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (5.8ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.6ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:31:11 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:31:11 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:11 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:11 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:11 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:11 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:11 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:11 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:11 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:11 -0400


Started PATCH "/locations/8/patients/8/doctor" for 127.0.0.1 at 2014-04-27 23:31:15 -0400
Processing by PatientsController#doctor as HTML
  Parameters: {"authenticity_token"=>"guZWXxWM7m43YZZ7QZBtvfNh4ExEhIvA8n6oTgjQ8sQ=", "location_id"=>"8", "id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 8 LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE `patients` SET `patients`.`workflow_state` = 'doctor' WHERE `patients`.`id` = 8[0m
Redirected to http://localhost:1234/locations/8
Completed 302 Found in 4ms (ActiveRecord: 1.6ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:31:15 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.1ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (2.2ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.5ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:31:15 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:15 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:15 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:31:15 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:15 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:15 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:15 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:15 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:15 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:15 -0400


Started PATCH "/locations/8/patients/8/xray" for 127.0.0.1 at 2014-04-27 23:31:16 -0400
Processing by PatientsController#xray as HTML
  Parameters: {"authenticity_token"=>"guZWXxWM7m43YZZ7QZBtvfNh4ExEhIvA8n6oTgjQ8sQ=", "location_id"=>"8", "id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 8 LIMIT 1
  [1m[36mSQL (6.4ms)[0m  [1mUPDATE `patients` SET `patients`.`workflow_state` = 'xray' WHERE `patients`.`id` = 8[0m
Redirected to http://localhost:1234/locations/8
Completed 302 Found in 10ms (ActiveRecord: 6.8ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:31:16 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (2.2ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.5ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:31:16 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:16 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:16 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:16 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:31:16 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:16 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:16 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:16 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:16 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:16 -0400


Started PATCH "/locations/8/patients/8/pay" for 127.0.0.1 at 2014-04-27 23:31:18 -0400
Processing by PatientsController#pay as HTML
  Parameters: {"authenticity_token"=>"guZWXxWM7m43YZZ7QZBtvfNh4ExEhIvA8n6oTgjQ8sQ=", "location_id"=>"8", "id"=>"8"}
  [1m[36mLocation Load (0.3ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 8 LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `patients` SET `patients`.`workflow_state` = 'pay' WHERE `patients`.`id` = 8[0m
Redirected to http://localhost:1234/locations/8
Completed 302 Found in 4ms (ActiveRecord: 1.3ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:31:18 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (2.6ms)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 0.7ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:18 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:18 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:31:18 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:31:18 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:18 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:18 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:18 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:18 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:18 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:18 -0400


Started PATCH "/locations/8/patients/8/leave" for 127.0.0.1 at 2014-04-27 23:31:20 -0400
Processing by PatientsController#leave as HTML
  Parameters: {"authenticity_token"=>"guZWXxWM7m43YZZ7QZBtvfNh4ExEhIvA8n6oTgjQ8sQ=", "location_id"=>"8", "id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 8 LIMIT 1
  [1m[36mSQL (5.8ms)[0m  [1mUPDATE `patients` SET `patients`.`workflow_state` = 'leave' WHERE `patients`.`id` = 8[0m
Redirected to http://localhost:1234/locations/8
Completed 302 Found in 9ms (ActiveRecord: 6.1ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:31:20 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (2.3ms)
Completed 200 OK in 12ms (Views: 5.5ms | ActiveRecord: 0.6ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:31:20 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:31:20 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:20 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:20 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:20 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:20 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:20 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:20 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:20 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:20 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:31:26 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLocation Load (0.3ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')
  [1m[36mPatient Load (0.1ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'[0m
  Rendered locations/show.html.haml within layouts/application (5.6ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:31:26 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:31:26 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:26 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:26 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:26 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:26 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:26 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:26 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:26 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:26 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:31:29 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  Rendered locations/show.html.haml within layouts/application (1.6ms)
Completed 500 Internal Server Error in 5ms

ActionView::Template::Error (The line was indented 2 levels deeper than the previous line.):
    51:           = link_to "Leave", leave_location_patient_path(@location, patient), method: :patch
    52:         / - else patient.workflow_state == 'leave
    53:   %hr
    54:       %h4 Patients Completed
    55:   %ul
    56:     - @patients_completed.each do |patient|
    57:       %li
  app/views/locations/show.html.haml:54


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (8.8ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:31:50 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'[0m
  Rendered locations/show.html.haml within layouts/application (5.9ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.6ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:31:50 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:50 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:50 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:50 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:50 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:31:50 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:50 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:50 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:50 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:31:50 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:31:56 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  Rendered locations/show.html.haml within layouts/application (1.6ms)
Completed 500 Internal Server Error in 5ms

ActionView::Template::Error (Illegal nesting: content can't be both given on the same line as %h4 and nested within it.):
    53:   %hr
    54: .center-text    
    55:   %h4 Patients Completed
    56:     %ul
    57:       - @patients_completed.each do |patient|
    58:       %li
    59:       = link_to patient.name, location_patient_path(@location, patient)
  app/views/locations/show.html.haml:56


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.8ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (9.3ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:32:04 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLocation Load (0.3ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  Rendered locations/show.html.haml within layouts/application (5.9ms)
Completed 500 Internal Server Error in 9ms

ActionView::Template::Error (Illegal nesting: content can't be both given on the same line as %h4 and nested within it.):
    53:   %hr
    54: .center-text    
    55:   %h4 Patients Completed
    56:     %ul
    57:       - @patients_completed.each do |patient|
    58:         %li
    59:         = link_to patient.name, location_patient_path(@location, patient)
  app/views/locations/show.html.haml:56


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (9.5ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:32:19 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.3ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (5.8ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.6ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:32:19 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:32:19 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:32:19 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:32:19 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:32:19 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:32:19 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:32:19 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:32:19 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:32:19 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:32:19 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:32:24 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  Rendered locations/show.html.haml within layouts/application (1.7ms)
Completed 500 Internal Server Error in 5ms

ActionView::Template::Error (Illegal nesting: nesting within plain text is illegal.):
    54: .center-text    
    55:   %h4 
    56:   Patients Completed
    57:     %ul
    58:       - @patients_completed.each do |patient|
    59:         %li
    60:         = link_to patient.name, location_patient_path(@location, patient)
  app/views/locations/show.html.haml:57


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (9.0ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:32:29 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.3ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  Rendered locations/show.html.haml within layouts/application (1.7ms)
Completed 500 Internal Server Error in 4ms

ActionView::Template::Error (Illegal nesting: content can't be both given on the same line as %h4 and nested within it.):
    53:   %hr
    54: .center-text    
    55:   %h4 Patients Completed
    56:       %ul
    57:       - @patients_completed.each do |patient|
    58:         %li
    59:         = link_to patient.name, location_patient_path(@location, patient)
  app/views/locations/show.html.haml:56


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (8.8ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:32:35 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  Rendered locations/show.html.haml within layouts/application (1.7ms)
Completed 500 Internal Server Error in 5ms

ActionView::Template::Error (Illegal nesting: content can't be both given on the same line as %h4 and nested within it.):
    53:   %hr
    54: .center-text    
    55:   %h4 Patients Completed
    56:         %ul
    57:       - @patients_completed.each do |patient|
    58:         %li
    59:         = link_to patient.name, location_patient_path(@location, patient)
  app/views/locations/show.html.haml:56


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (8.9ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:32:39 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  Rendered locations/show.html.haml within layouts/application (1.6ms)
Completed 500 Internal Server Error in 4ms

ActionView::Template::Error (The line was indented 2 levels deeper than the previous line.):
    54: .center-text    
    55:   %h4 Patients Completed
    56:   %ul
    57:       - @patients_completed.each do |patient|
    58:         %li
    59:         = link_to patient.name, location_patient_path(@location, patient)
    60:         completed at
  app/views/locations/show.html.haml:57


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.8ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (8.5ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:32:50 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.3ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')
  [1m[36mPatient Load (0.1ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'[0m
  Rendered locations/show.html.haml within layouts/application (5.7ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.6ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:32:50 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:32:50 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:32:50 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:32:50 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:32:50 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:32:50 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:32:50 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:32:50 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:32:50 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:32:50 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:32:54 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  Rendered locations/show.html.haml within layouts/application (1.8ms)
Completed 500 Internal Server Error in 5ms

ActionView::Template::Error (Illegal nesting: content can't be both given on the same line as %h4 and nested within it.):
    53:   %hr
    54: .center-text    
    55:   %h4 Patients Completed
    56:     %ul
    57:     - @patients_completed.each do |patient|
    58:       %li
    59:       = link_to patient.name, location_patient_path(@location, patient)
  app/views/locations/show.html.haml:56


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.8ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (8.8ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:33:01 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  Rendered locations/show.html.haml within layouts/application (1.7ms)
Completed 500 Internal Server Error in 5ms

ActionView::Template::Error (Illegal nesting: content can't be both given on the same line as %h4 and nested within it.):
    53:   %hr
    54: .center-text    
    55: %h4 Patients Completed
    56:     %ul
    57:     - @patients_completed.each do |patient|
    58:       %li
    59:       = link_to patient.name, location_patient_path(@location, patient)
  app/views/locations/show.html.haml:56


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (9.1ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:33:04 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.3ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  Rendered locations/show.html.haml within layouts/application (1.5ms)
Completed 500 Internal Server Error in 4ms

ActionView::Template::Error (Illegal nesting: content can't be both given on the same line as %h4 and nested within it.):
    53:   %hr
    54: .center-text    
    55: %h4 Patients Completed
    56:   %ul
    57:     - @patients_completed.each do |patient|
    58:       %li
    59:       = link_to patient.name, location_patient_path(@location, patient)
  app/views/locations/show.html.haml:56


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.8ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (8.8ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:33:12 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  Rendered locations/show.html.haml within layouts/application (1.7ms)
Completed 500 Internal Server Error in 4ms

ActionView::Template::Error (Illegal nesting: nesting within plain text is illegal.):
    54: .center-text    
    55: %h4 
    56: Patients Completed
    57:   %ul
    58:     - @patients_completed.each do |patient|
    59:       %li
    60:       = link_to patient.name, location_patient_path(@location, patient)
  app/views/locations/show.html.haml:57


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (9.1ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:33:15 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.3ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (5.7ms)
Completed 200 OK in 15ms (Views: 8.9ms | ActiveRecord: 0.6ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:33:15 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:15 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:15 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:33:15 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:15 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:15 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:15 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:15 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:15 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:15 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:33:20 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')
  [1m[36mPatient Load (0.1ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'[0m
  Rendered locations/show.html.haml within layouts/application (5.6ms)
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 0.5ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:33:20 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:20 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:33:20 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:21 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:21 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:21 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:21 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:21 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:21 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:21 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:33:27 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  Rendered locations/show.html.haml within layouts/application (1.6ms)
Completed 500 Internal Server Error in 5ms

ActionView::Template::Error (Illegal nesting: nesting within plain text is illegal.):
    54: .center-text    
    55:   %h4 
    56:   Patients Completed
    57:     %ul
    58:     - @patients_completed.each do |patient|
    59:       %li
    60:       = link_to patient.name, location_patient_path(@location, patient)
  app/views/locations/show.html.haml:57


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (8.8ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:33:29 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  Rendered locations/show.html.haml within layouts/application (1.6ms)
Completed 500 Internal Server Error in 5ms

ActionView::Template::Error (The line was indented 2 levels deeper than the previous line.):
    55:   %h4 
    56:   Patients Completed
    57: %ul
    58:     - @patients_completed.each do |patient|
    59:       %li
    60:       = link_to patient.name, location_patient_path(@location, patient)
    61:       completed at
  app/views/locations/show.html.haml:58


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (8.8ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:33:32 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (5.4ms)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.5ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:33:32 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:32 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:33:32 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:32 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:32 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:32 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:32 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:32 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:32 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:32 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:33:55 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'[0m
  Rendered locations/show.html.haml within layouts/application (5.7ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.6ms)


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:55 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:33:55 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:33:55 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:55 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:55 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:55 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:55 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:55 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:55 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:33:55 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:34:01 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (5.5ms)
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 0.6ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:34:01 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:34:01 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:01 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:01 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:01 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:01 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:01 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:01 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:01 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:01 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:34:07 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'[0m
  Rendered locations/show.html.haml within layouts/application (5.8ms)
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 0.6ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:34:07 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:07 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:07 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:34:07 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:07 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:07 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:07 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:07 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:07 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:07 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:34:10 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (5.4ms)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.5ms)


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:10 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:10 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:10 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:10 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:34:10 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:34:10 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:10 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:10 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:10 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:10 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:34:11 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  Rendered locations/show.html.haml within layouts/application (1.7ms)
Completed 500 Internal Server Error in 5ms

ActionView::Template::Error (The line was indented 2 levels deeper than the previous line.):
    51:           = link_to "Leave", leave_location_patient_path(@location, patient), method: :patch
    52:         / - else patient.workflow_state == 'leave
    53:   %hr
    54:       %h4 Patients Completed
    55: %ul
    56:   - @patients_completed.each do |patient|
    57:     %li
  app/views/locations/show.html.haml:54


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (9.1ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:34:23 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (5.6ms)
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 0.5ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:34:23 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:23 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:23 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:23 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:23 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:34:23 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:23 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:23 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:23 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:23 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:34:26 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')
  [1m[36mPatient Load (0.1ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'[0m
  Rendered locations/show.html.haml within layouts/application (5.6ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.6ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:34:26 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:26 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:26 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:26 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:26 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:34:26 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:26 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:26 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:26 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:26 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:34:32 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (5.6ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:34:32 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:32 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:32 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:34:32 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:32 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:32 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:32 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:32 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:32 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:32 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:34:33 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  Rendered locations/show.html.haml within layouts/application (1.5ms)
Completed 500 Internal Server Error in 4ms

ActionView::Template::Error (The line was indented 2 levels deeper than the previous line.):
    51:           = link_to "Leave", leave_location_patient_path(@location, patient), method: :patch
    52:         / - else patient.workflow_state == 'leave
    53:         %hr
    54:             %h4 Patients Completed
    55: %ul
    56:   - @patients_completed.each do |patient|
    57:     %li
  app/views/locations/show.html.haml:54


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (8.8ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:34:36 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.3ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (5.6ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:34:36 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:36 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:34:36 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:36 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:36 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:36 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:36 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:36 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:36 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:36 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:34:56 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')
  [1m[36mPatient Load (0.1ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'[0m
  Rendered locations/show.html.haml within layouts/application (5.6ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:34:56 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:56 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:34:56 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:56 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:56 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:56 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:56 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:56 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:56 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:34:56 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:35:00 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (5.5ms)
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 0.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:35:00 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:35:00 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:35:00 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:35:00 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:35:00 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:35:00 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:35:00 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:35:00 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:35:00 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:35:00 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:35:15 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLocation Load (0.3ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')
  [1m[36mPatient Load (0.1ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'[0m
  Rendered locations/show.html.haml within layouts/application (9.9ms)
Completed 200 OK in 15ms (Views: 13.2ms | ActiveRecord: 0.6ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:35:15 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:35:15 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:35:15 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:35:15 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:35:15 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:35:15 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:35:15 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:35:15 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:35:15 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:35:15 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:35:48 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  Rendered locations/show.html.haml within layouts/application (3.6ms)
Completed 500 Internal Server Error in 7ms

SyntaxError (/Users/R1V3R5/TheIronYard/homework/database_relations/hospitals/app/views/locations/show.html.haml:63: syntax error, unexpected keyword_ensure, expecting keyword_end
...:Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer....
...                               ^
/Users/R1V3R5/TheIronYard/homework/database_relations/hospitals/app/views/locations/show.html.haml:66: syntax error, unexpected end-of-input, expecting keyword_end):
  actionview (4.1.0) lib/action_view/template.rb:297:in `module_eval'
  actionview (4.1.0) lib/action_view/template.rb:297:in `compile'
  actionview (4.1.0) lib/action_view/template.rb:245:in `block (2 levels) in compile!'
  activesupport (4.1.0) lib/active_support/notifications.rb:161:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:339:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:244:in `block in compile!'
  actionview (4.1.0) lib/action_view/template.rb:232:in `synchronize'
  actionview (4.1.0) lib/action_view/template.rb:232:in `compile!'
  actionview (4.1.0) lib/action_view/template.rb:144:in `block in render'
  activesupport (4.1.0) lib/active_support/notifications.rb:161:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:339:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:143:in `render'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:55:in `block (2 levels) in render_template'
  actionview (4.1.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionview (4.1.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:54:in `block in render_template'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:62:in `render_with_layout'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:53:in `render_template'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionview (4.1.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionview (4.1.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionview (4.1.0) lib/action_view/rendering.rb:99:in `_render_template'
  actionpack (4.1.0) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.1.0) lib/action_view/rendering.rb:82:in `render_to_body'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.1.0) lib/action_controller/metal/renderers.rb:32:in `render_to_body'
  actionpack (4.1.0) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.1.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.1.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.1.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.1.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:676:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.1.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.0) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.0) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.0) lib/rails/engine.rb:514:in `call'
  railties (4.1.0) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.4ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.3ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:35:53 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLocation Load (0.3ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  Rendered locations/show.html.haml within layouts/application (3.4ms)
Completed 500 Internal Server Error in 6ms

SyntaxError (/Users/R1V3R5/TheIronYard/homework/database_relations/hospitals/app/views/locations/show.html.haml:63: syntax error, unexpected keyword_ensure, expecting keyword_end
...:Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer....
...                               ^
/Users/R1V3R5/TheIronYard/homework/database_relations/hospitals/app/views/locations/show.html.haml:66: syntax error, unexpected end-of-input, expecting keyword_end):
  actionview (4.1.0) lib/action_view/template.rb:297:in `module_eval'
  actionview (4.1.0) lib/action_view/template.rb:297:in `compile'
  actionview (4.1.0) lib/action_view/template.rb:245:in `block (2 levels) in compile!'
  activesupport (4.1.0) lib/active_support/notifications.rb:161:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:339:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:244:in `block in compile!'
  actionview (4.1.0) lib/action_view/template.rb:232:in `synchronize'
  actionview (4.1.0) lib/action_view/template.rb:232:in `compile!'
  actionview (4.1.0) lib/action_view/template.rb:144:in `block in render'
  activesupport (4.1.0) lib/active_support/notifications.rb:161:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:339:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:143:in `render'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:55:in `block (2 levels) in render_template'
  actionview (4.1.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionview (4.1.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:54:in `block in render_template'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:62:in `render_with_layout'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:53:in `render_template'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionview (4.1.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionview (4.1.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionview (4.1.0) lib/action_view/rendering.rb:99:in `_render_template'
  actionpack (4.1.0) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.1.0) lib/action_view/rendering.rb:82:in `render_to_body'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.1.0) lib/action_controller/metal/renderers.rb:32:in `render_to_body'
  actionpack (4.1.0) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.1.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.1.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.1.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.1.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:676:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.1.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.0) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.0) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.0) lib/rails/engine.rb:514:in `call'
  railties (4.1.0) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.4ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.1ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:36:05 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (5.6ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.6ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:36:05 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:36:05 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:36:05 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:36:05 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:36:05 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:36:05 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:36:05 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:36:05 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:36:05 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:36:05 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:36:12 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  Rendered locations/show.html.haml within layouts/application (1.8ms)
Completed 500 Internal Server Error in 5ms

ActionView::Template::Error (The line was indented 2 levels deeper than the previous line.):
    56:     %h4 Patients Completed
    57:     %ul
    58:       - @patients_completed.each do |patient|
    59:           %li
    60:           = link_to patient.name, location_patient_path(@location, patient)
    61:           completed at
    62:           = patient.updated_at.strftime("%l:%M%p")
  app/views/locations/show.html.haml:59


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (8.9ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:36:15 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.3ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  Rendered locations/show.html.haml within layouts/application (1.8ms)
Completed 500 Internal Server Error in 5ms

ActionView::Template::Error (The line was indented 2 levels deeper than the previous line.):
    57:     %ul
    58:       - @patients_completed.each do |patient|
    59:       %li
    60:           = link_to patient.name, location_patient_path(@location, patient)
    61:           completed at
    62:           = patient.updated_at.strftime("%l:%M%p")
    63:           %br
  app/views/locations/show.html.haml:60


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.8ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (8.7ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:36:45 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLocation Load (0.3ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  Rendered locations/show.html.haml within layouts/application (3.5ms)
Completed 500 Internal Server Error in 6ms

SyntaxError (/Users/R1V3R5/TheIronYard/homework/database_relations/hospitals/app/views/locations/show.html.haml:64: syntax error, unexpected keyword_ensure, expecting end-of-input):
  actionview (4.1.0) lib/action_view/template.rb:297:in `module_eval'
  actionview (4.1.0) lib/action_view/template.rb:297:in `compile'
  actionview (4.1.0) lib/action_view/template.rb:245:in `block (2 levels) in compile!'
  activesupport (4.1.0) lib/active_support/notifications.rb:161:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:339:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:244:in `block in compile!'
  actionview (4.1.0) lib/action_view/template.rb:232:in `synchronize'
  actionview (4.1.0) lib/action_view/template.rb:232:in `compile!'
  actionview (4.1.0) lib/action_view/template.rb:144:in `block in render'
  activesupport (4.1.0) lib/active_support/notifications.rb:161:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:339:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:143:in `render'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:55:in `block (2 levels) in render_template'
  actionview (4.1.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionview (4.1.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:54:in `block in render_template'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:62:in `render_with_layout'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:53:in `render_template'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionview (4.1.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionview (4.1.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionview (4.1.0) lib/action_view/rendering.rb:99:in `_render_template'
  actionpack (4.1.0) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.1.0) lib/action_view/rendering.rb:82:in `render_to_body'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.1.0) lib/action_controller/metal/renderers.rb:32:in `render_to_body'
  actionpack (4.1.0) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.1.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.1.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.1.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.1.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:676:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.1.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.0) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.0) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.0) lib/rails/engine.rb:514:in `call'
  railties (4.1.0) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.4ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.0ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-27 23:36:47 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (5.4ms)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.5ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:36:48 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:36:48 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:36:48 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:36:48 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:36:48 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:36:48 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:36:48 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:36:48 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:36:48 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:36:48 -0400


Started GET "/locations/8/patients/8" for 127.0.0.1 at 2014-04-27 23:36:57 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"8"}
  [1m[36mLocation Load (0.3ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 8 LIMIT 1
  [1m[36mMed Load (0.3ms)[0m  [1mSELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 8[0m
  Rendered patients/show.html.haml within layouts/application (30.6ms)
Completed 200 OK in 39ms (Views: 11.5ms | ActiveRecord: 25.4ms)


Started GET "/locations/8/patients/8" for 127.0.0.1 at 2014-04-27 23:37:14 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 8 LIMIT 1[0m
  [1m[35mMed Load (0.2ms)[0m  SELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 8
  Rendered patients/show.html.haml within layouts/application (3.4ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.7ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:37:14 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:37:14 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:14 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:14 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:14 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:14 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:14 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:14 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:14 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:14 -0400


Started GET "/locations/8/patients/8" for 127.0.0.1 at 2014-04-27 23:37:18 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 8 LIMIT 1
  Rendered patients/show.html.haml within layouts/application (1.7ms)
Completed 500 Internal Server Error in 6ms

SyntaxError (/Users/R1V3R5/TheIronYard/homework/database_relations/hospitals/app/views/patients/show.html.haml:24: syntax error, unexpected keyword_ensure, expecting end-of-input):
  actionview (4.1.0) lib/action_view/template.rb:297:in `module_eval'
  actionview (4.1.0) lib/action_view/template.rb:297:in `compile'
  actionview (4.1.0) lib/action_view/template.rb:245:in `block (2 levels) in compile!'
  activesupport (4.1.0) lib/active_support/notifications.rb:161:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:339:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:244:in `block in compile!'
  actionview (4.1.0) lib/action_view/template.rb:232:in `synchronize'
  actionview (4.1.0) lib/action_view/template.rb:232:in `compile!'
  actionview (4.1.0) lib/action_view/template.rb:144:in `block in render'
  activesupport (4.1.0) lib/active_support/notifications.rb:161:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:339:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:143:in `render'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:55:in `block (2 levels) in render_template'
  actionview (4.1.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionview (4.1.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:54:in `block in render_template'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:62:in `render_with_layout'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:53:in `render_template'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionview (4.1.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionview (4.1.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionview (4.1.0) lib/action_view/rendering.rb:99:in `_render_template'
  actionpack (4.1.0) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.1.0) lib/action_view/rendering.rb:82:in `render_to_body'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.1.0) lib/action_controller/metal/renderers.rb:32:in `render_to_body'
  actionpack (4.1.0) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.1.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.1.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.1.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.1.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:676:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.1.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.0) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.0) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.0) lib/rails/engine.rb:514:in `call'
  railties (4.1.0) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.4ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.1ms)


Started GET "/locations/8/patients/8" for 127.0.0.1 at 2014-04-27 23:37:20 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 8 LIMIT 1
  [1m[36mMed Load (0.2ms)[0m  [1mSELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 8[0m
  Rendered patients/show.html.haml within layouts/application (2.8ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.6ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:37:20 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:37:20 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:20 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:20 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:20 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:20 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:20 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:20 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:20 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:20 -0400


Started GET "/locations/8/patients/8" for 127.0.0.1 at 2014-04-27 23:37:24 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.1ms)[0m  [1mSELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 8 LIMIT 1[0m
  [1m[35mMed Load (0.2ms)[0m  SELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 8
  Rendered patients/show.html.haml within layouts/application (2.7ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.5ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:37:24 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:24 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:37:24 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:24 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:24 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:24 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:24 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:24 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:24 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:24 -0400


Started GET "/locations/8/patients/8" for 127.0.0.1 at 2014-04-27 23:37:55 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 8 LIMIT 1
  Rendered patients/show.html.haml within layouts/application (2.0ms)
Completed 500 Internal Server Error in 6ms

SyntaxError (/Users/R1V3R5/TheIronYard/homework/database_relations/hospitals/app/views/patients/show.html.haml:23: syntax error, unexpected keyword_ensure, expecting keyword_end
...:Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer....
...                               ^
/Users/R1V3R5/TheIronYard/homework/database_relations/hospitals/app/views/patients/show.html.haml:26: syntax error, unexpected end-of-input, expecting keyword_end):
  actionview (4.1.0) lib/action_view/template.rb:297:in `module_eval'
  actionview (4.1.0) lib/action_view/template.rb:297:in `compile'
  actionview (4.1.0) lib/action_view/template.rb:245:in `block (2 levels) in compile!'
  activesupport (4.1.0) lib/active_support/notifications.rb:161:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:339:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:244:in `block in compile!'
  actionview (4.1.0) lib/action_view/template.rb:232:in `synchronize'
  actionview (4.1.0) lib/action_view/template.rb:232:in `compile!'
  actionview (4.1.0) lib/action_view/template.rb:144:in `block in render'
  activesupport (4.1.0) lib/active_support/notifications.rb:161:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:339:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:143:in `render'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:55:in `block (2 levels) in render_template'
  actionview (4.1.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionview (4.1.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:54:in `block in render_template'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:62:in `render_with_layout'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:53:in `render_template'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionview (4.1.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionview (4.1.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionview (4.1.0) lib/action_view/rendering.rb:99:in `_render_template'
  actionpack (4.1.0) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.1.0) lib/action_view/rendering.rb:82:in `render_to_body'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.1.0) lib/action_controller/metal/renderers.rb:32:in `render_to_body'
  actionpack (4.1.0) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.1.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.1.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.1.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.1.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:676:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.1.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.0) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.0) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.0) lib/rails/engine.rb:514:in `call'
  railties (4.1.0) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.5ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.5ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (17.2ms)


Started GET "/locations/8/patients/8" for 127.0.0.1 at 2014-04-27 23:37:57 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"8"}
  [1m[36mLocation Load (0.3ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 8 LIMIT 1
  [1m[36mMed Load (0.1ms)[0m  [1mSELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 8[0m
  Rendered patients/show.html.haml within layouts/application (2.7ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:37:57 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:57 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:37:57 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:57 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:57 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:57 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:57 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:57 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:57 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:37:57 -0400


Started GET "/locations/8/patients/8" for 127.0.0.1 at 2014-04-27 23:38:10 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 8 LIMIT 1[0m
  [1m[35mMed Load (0.2ms)[0m  SELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 8
  Rendered patients/show.html.haml within layouts/application (2.8ms)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.6ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:38:11 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:38:11 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:38:11 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:38:11 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:38:11 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:38:11 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:38:11 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:38:11 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:38:11 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:38:11 -0400


Started GET "/locations/8/patients/8/meds/new" for 127.0.0.1 at 2014-04-27 23:38:14 -0400
Processing by MedsController#new as HTML
  Parameters: {"location_id"=>"8", "patient_id"=>"8"}
  [1m[36mLocation Load (0.3ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 8 LIMIT 1
  [1m[36mMed Load (0.3ms)[0m  [1mSELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 8[0m
  Rendered meds/_form.html.haml (6.2ms)
  Rendered meds/new.html.haml within layouts/application (8.4ms)
Completed 200 OK in 19ms (Views: 12.6ms | ActiveRecord: 1.2ms)


Started POST "/locations/8/patients/8/meds" for 127.0.0.1 at 2014-04-27 23:38:19 -0400
Processing by MedsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"guZWXxWM7m43YZZ7QZBtvfNh4ExEhIvA8n6oTgjQ8sQ=", "med"=>{"name"=>"Action", "cost"=>"$1.00", "description"=>""}, "commit"=>"Create Med", "location_id"=>"8", "patient_id"=>"8"}
  [1m[35mLocation Load (0.3ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `meds` (`cost`, `created_at`, `description`, `name`, `patient_id`, `updated_at`) VALUES ('$1.00', '2014-04-28 03:38:19', '', 'Action', 8, '2014-04-28 03:38:19')[0m
  [1m[35m (6.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
Redirected to http://localhost:1234/locations/8/patients/8
Completed 302 Found in 12ms (ActiveRecord: 6.9ms)


Started GET "/locations/8/patients/8" for 127.0.0.1 at 2014-04-27 23:38:19 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 8 LIMIT 1
  [1m[36mMed Load (0.2ms)[0m  [1mSELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 8[0m
  Rendered patients/show.html.haml within layouts/application (1.5ms)
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 0.6ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:38:19 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:38:19 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:38:19 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:38:19 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:38:19 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:38:19 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:38:19 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:38:19 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:38:19 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:38:19 -0400


Started GET "/locations/8/patients/8" for 127.0.0.1 at 2014-04-27 23:38:34 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"8"}
  [1m[35mLocation Load (0.3ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 8 LIMIT 1[0m
  Rendered patients/show.html.haml within layouts/application (1.8ms)
Completed 500 Internal Server Error in 6ms

SyntaxError (/Users/R1V3R5/TheIronYard/homework/database_relations/hospitals/app/views/patients/show.html.haml:23: syntax error, unexpected keyword_ensure, expecting keyword_end
...:Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer....
...                               ^
/Users/R1V3R5/TheIronYard/homework/database_relations/hospitals/app/views/patients/show.html.haml:26: syntax error, unexpected end-of-input, expecting keyword_end):
  actionview (4.1.0) lib/action_view/template.rb:297:in `module_eval'
  actionview (4.1.0) lib/action_view/template.rb:297:in `compile'
  actionview (4.1.0) lib/action_view/template.rb:245:in `block (2 levels) in compile!'
  activesupport (4.1.0) lib/active_support/notifications.rb:161:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:339:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:244:in `block in compile!'
  actionview (4.1.0) lib/action_view/template.rb:232:in `synchronize'
  actionview (4.1.0) lib/action_view/template.rb:232:in `compile!'
  actionview (4.1.0) lib/action_view/template.rb:144:in `block in render'
  activesupport (4.1.0) lib/active_support/notifications.rb:161:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:339:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:143:in `render'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:55:in `block (2 levels) in render_template'
  actionview (4.1.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionview (4.1.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:54:in `block in render_template'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:62:in `render_with_layout'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:53:in `render_template'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionview (4.1.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionview (4.1.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionview (4.1.0) lib/action_view/rendering.rb:99:in `_render_template'
  actionpack (4.1.0) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.1.0) lib/action_view/rendering.rb:82:in `render_to_body'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.1.0) lib/action_controller/metal/renderers.rb:32:in `render_to_body'
  actionpack (4.1.0) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.1.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.1.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.1.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.1.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:676:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.1.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.0) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.0) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.0) lib/rails/engine.rb:514:in `call'
  railties (4.1.0) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.4ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.8ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.4ms)


Started GET "/locations/8/patients/8" for 127.0.0.1 at 2014-04-27 23:38:53 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 8 LIMIT 1[0m
  Rendered patients/show.html.haml within layouts/application (1.8ms)
Completed 500 Internal Server Error in 5ms

SyntaxError (/Users/R1V3R5/TheIronYard/homework/database_relations/hospitals/app/views/patients/show.html.haml:23: syntax error, unexpected keyword_ensure, expecting keyword_end
...:Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer....
...                               ^
/Users/R1V3R5/TheIronYard/homework/database_relations/hospitals/app/views/patients/show.html.haml:26: syntax error, unexpected end-of-input, expecting keyword_end):
  actionview (4.1.0) lib/action_view/template.rb:297:in `module_eval'
  actionview (4.1.0) lib/action_view/template.rb:297:in `compile'
  actionview (4.1.0) lib/action_view/template.rb:245:in `block (2 levels) in compile!'
  activesupport (4.1.0) lib/active_support/notifications.rb:161:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:339:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:244:in `block in compile!'
  actionview (4.1.0) lib/action_view/template.rb:232:in `synchronize'
  actionview (4.1.0) lib/action_view/template.rb:232:in `compile!'
  actionview (4.1.0) lib/action_view/template.rb:144:in `block in render'
  activesupport (4.1.0) lib/active_support/notifications.rb:161:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:339:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:143:in `render'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:55:in `block (2 levels) in render_template'
  actionview (4.1.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionview (4.1.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:54:in `block in render_template'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:62:in `render_with_layout'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:53:in `render_template'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionview (4.1.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionview (4.1.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionview (4.1.0) lib/action_view/rendering.rb:99:in `_render_template'
  actionpack (4.1.0) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.1.0) lib/action_view/rendering.rb:82:in `render_to_body'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.1.0) lib/action_controller/metal/renderers.rb:32:in `render_to_body'
  actionpack (4.1.0) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.1.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.1.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.1.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.1.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:676:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.1.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.0) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.0) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.0) lib/rails/engine.rb:514:in `call'
  railties (4.1.0) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.4ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.8ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.9ms)


Started GET "/locations/8/patients/8" for 127.0.0.1 at 2014-04-27 23:39:14 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 8 LIMIT 1[0m
  Rendered patients/show.html.haml within layouts/application (1.9ms)
Completed 500 Internal Server Error in 6ms

SyntaxError (/Users/R1V3R5/TheIronYard/homework/database_relations/hospitals/app/views/patients/show.html.haml:23: syntax error, unexpected keyword_ensure, expecting keyword_end
...:Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer....
...                               ^
/Users/R1V3R5/TheIronYard/homework/database_relations/hospitals/app/views/patients/show.html.haml:26: syntax error, unexpected end-of-input, expecting keyword_end):
  actionview (4.1.0) lib/action_view/template.rb:297:in `module_eval'
  actionview (4.1.0) lib/action_view/template.rb:297:in `compile'
  actionview (4.1.0) lib/action_view/template.rb:245:in `block (2 levels) in compile!'
  activesupport (4.1.0) lib/active_support/notifications.rb:161:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:339:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:244:in `block in compile!'
  actionview (4.1.0) lib/action_view/template.rb:232:in `synchronize'
  actionview (4.1.0) lib/action_view/template.rb:232:in `compile!'
  actionview (4.1.0) lib/action_view/template.rb:144:in `block in render'
  activesupport (4.1.0) lib/active_support/notifications.rb:161:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:339:in `instrument'
  actionview (4.1.0) lib/action_view/template.rb:143:in `render'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:55:in `block (2 levels) in render_template'
  actionview (4.1.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionview (4.1.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:54:in `block in render_template'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:62:in `render_with_layout'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:53:in `render_template'
  actionview (4.1.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionview (4.1.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionview (4.1.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionview (4.1.0) lib/action_view/rendering.rb:99:in `_render_template'
  actionpack (4.1.0) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.1.0) lib/action_view/rendering.rb:82:in `render_to_body'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.1.0) lib/action_controller/metal/renderers.rb:32:in `render_to_body'
  actionpack (4.1.0) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.1.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.1.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.1.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.1.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:149:in `block in halting_and_conditional'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.1.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.0) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.1.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.0) lib/action_dispatch/routing/route_set.rb:676:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.1.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.0) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.0) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.0) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.0) lib/rails/engine.rb:514:in `call'
  railties (4.1.0) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /Users/R1V3R5/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.4ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.1ms)


Started GET "/locations/8/patients/8" for 127.0.0.1 at 2014-04-27 23:39:26 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 8 LIMIT 1[0m
  Rendered patients/show.html.haml within layouts/application (0.9ms)
Completed 500 Internal Server Error in 4ms

ActionView::Template::Error (Illegal nesting: content can't be both given on the same line as %h3 and nested within it.):
    12:     = @patient.description
    13:     %hr
    14:   %h3 Current Medications
    15:     %ul
    16:       - @patient.meds.each do |med|
    17:         %li
    18:           = med.name
  app/views/patients/show.html.haml:15


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (8.8ms)


Started GET "/locations/8/patients/8" for 127.0.0.1 at 2014-04-27 23:40:00 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.1ms)[0m  [1mSELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 8 LIMIT 1[0m
  [1m[35mMed Load (0.1ms)[0m  SELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 8
  Rendered patients/show.html.haml within layouts/application (3.1ms)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:40:00 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:40:00 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:00 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:00 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:00 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:00 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:00 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:00 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:00 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:00 -0400


Started GET "/locations/8/patients/8" for 127.0.0.1 at 2014-04-27 23:40:21 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"8"}
  [1m[36mLocation Load (0.3ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 8 LIMIT 1
  [1m[36mMed Load (0.2ms)[0m  [1mSELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 8[0m
  Rendered patients/show.html.haml within layouts/application (7.8ms)
Completed 200 OK in 14ms (Views: 11.0ms | ActiveRecord: 0.6ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:40:21 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:40:21 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:21 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:21 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:21 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:21 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:21 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:21 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:21 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:21 -0400


Started GET "/locations/8/patients/8" for 127.0.0.1 at 2014-04-27 23:40:26 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"8"}
  [1m[35mLocation Load (0.3ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 8 LIMIT 1[0m
  Rendered patients/show.html.haml within layouts/application (0.8ms)
Completed 500 Internal Server Error in 5ms

ActionView::Template::Error (The line was indented 2 levels deeper than the previous line.):
    15:   .center-text    
    16:     %h3 Current Medications
    17:   %ul
    18:       - @patient.meds.each do |med|
    19:         %li
    20:           = med.name
    21:           |
  app/views/patients/show.html.haml:18


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.8ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (8.6ms)


Started GET "/locations/8/patients/8" for 127.0.0.1 at 2014-04-27 23:40:46 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"8"}
  [1m[35mLocation Load (0.3ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 8 LIMIT 1[0m
  [1m[35mMed Load (0.2ms)[0m  SELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 8
  Rendered patients/show.html.haml within layouts/application (3.2ms)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.7ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:40:46 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:46 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:40:46 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:46 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:46 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:46 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:46 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:46 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:46 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:46 -0400


Started GET "/locations/8/patients/8" for 127.0.0.1 at 2014-04-27 23:40:55 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 8 LIMIT 1
  [1m[36mMed Load (0.2ms)[0m  [1mSELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 8[0m
  Rendered patients/show.html.haml within layouts/application (3.2ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.5ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-27 23:40:55 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-27 23:40:55 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:55 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:55 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:55 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:55 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:55 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:55 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:55 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-27 23:40:55 -0400


Started GET "/" for 127.0.0.1 at 2014-04-28 07:59:59 -0400
  [1m[36mActiveRecord::SchemaMigration Load (17.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by HomeController#index as HTML
  [1m[35mLocation Load (0.3ms)[0m  SELECT `locations`.* FROM `locations`
  Rendered home/index.html.haml within layouts/application (26.8ms)
Completed 200 OK in 109ms (Views: 77.5ms | ActiveRecord: 19.0ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-28 07:59:59 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-28 07:59:59 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-28 07:59:59 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-28 07:59:59 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-28 07:59:59 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-28 07:59:59 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-28 07:59:59 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-28 07:59:59 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-28 07:59:59 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-28 07:59:59 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-28 08:00:02 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.3ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')
  [1m[36mPatient Load (0.3ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'[0m
  Rendered locations/show.html.haml within layouts/application (11.1ms)
Completed 200 OK in 54ms (Views: 14.6ms | ActiveRecord: 19.6ms)


Started GET "/locations/8/patients/7" for 127.0.0.1 at 2014-04-28 08:00:04 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"7"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 7 LIMIT 1[0m
  [1m[35mMed Load (0.2ms)[0m  SELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 7
  Rendered patients/show.html.haml within layouts/application (23.0ms)
Completed 200 OK in 30ms (Views: 10.1ms | ActiveRecord: 17.9ms)


Started GET "/locations/8/patients/7/meds/new" for 127.0.0.1 at 2014-04-28 08:00:06 -0400
Processing by MedsController#new as HTML
  Parameters: {"location_id"=>"8", "patient_id"=>"7"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 7 LIMIT 1
  [1m[36mMed Load (0.2ms)[0m  [1mSELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 7[0m
  Rendered meds/_form.html.haml (18.2ms)
  Rendered meds/new.html.haml within layouts/application (22.4ms)
Completed 200 OK in 33ms (Views: 27.0ms | ActiveRecord: 1.0ms)


Started POST "/locations/8/patients/7/meds" for 127.0.0.1 at 2014-04-28 08:00:09 -0400
Processing by MedsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"hzRSUzduVCp+j3KN+Ezz8LIGVNrgSjdSe8CNnK3SBUE=", "med"=>{"name"=>"Action", "cost"=>"", "description"=>""}, "commit"=>"Create Med", "location_id"=>"8", "patient_id"=>"7"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `meds` (`cost`, `created_at`, `description`, `name`, `patient_id`, `updated_at`) VALUES ('', '2014-04-28 12:00:09', '', 'Action', 7, '2014-04-28 12:00:09')[0m
  [1m[35m (6.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
Redirected to http://localhost:4567/locations/8/patients/7
Completed 302 Found in 12ms (ActiveRecord: 7.1ms)


Started GET "/locations/8/patients/7" for 127.0.0.1 at 2014-04-28 08:00:09 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"7"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 7 LIMIT 1
  [1m[36mMed Load (0.2ms)[0m  [1mSELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 7[0m
  Rendered patients/show.html.haml within layouts/application (3.3ms)
Completed 200 OK in 14ms (Views: 11.6ms | ActiveRecord: 0.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-28 08:00:09 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-28 08:00:09 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-28 08:00:09 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-28 08:00:09 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-28 08:00:09 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-28 08:00:09 -0400


Started DELETE "/locations/8/patients/7" for 127.0.0.1 at 2014-04-28 08:00:12 -0400
Processing by PatientsController#destroy as HTML
  Parameters: {"authenticity_token"=>"hzRSUzduVCp+j3KN+Ezz8LIGVNrgSjdSe8CNnK3SBUE=", "location_id"=>"8", "id"=>"7"}
  [1m[35mLocation Load (0.3ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 7 LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM `patients` WHERE `patients`.`id` = 7
Redirected to http://localhost:4567/locations/8
Completed 302 Found in 3ms (ActiveRecord: 1.4ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-28 08:00:12 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')
  [1m[36mPatient Load (0.1ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'[0m
  Rendered locations/show.html.haml within layouts/application (5.3ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-28 08:00:12 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-28 08:00:12 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-28 08:00:12 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-28 08:00:12 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-28 08:00:12 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-28 08:00:12 -0400


Started GET "/locations/8/patients/new" for 127.0.0.1 at 2014-04-28 08:00:48 -0400
Processing by PatientsController#new as HTML
  Parameters: {"location_id"=>"8"}
  [1m[35mLocation Load (0.3ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  Rendered layouts/_error_messages.html.haml (0.8ms)
  Rendered patients/_form.html.haml (5.9ms)
  Rendered patients/new.html.haml within layouts/application (7.8ms)
Completed 200 OK in 14ms (Views: 12.5ms | ActiveRecord: 0.3ms)


Started POST "/locations/8/patients" for 127.0.0.1 at 2014-04-28 08:00:50 -0400
Processing by PatientsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"hzRSUzduVCp+j3KN+Ezz8LIGVNrgSjdSe8CNnK3SBUE=", "patient"=>{"name"=>"Joshua Rivers", "phone_number"=>"", "description"=>""}, "commit"=>"Create Patient", "location_id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `patients` (`created_at`, `description`, `location_id`, `name`, `phone_number`, `updated_at`, `workflow_state`) VALUES ('2014-04-28 12:00:50', '', 8, 'Joshua Rivers', '', '2014-04-28 12:00:50', 'waiting')[0m
  [1m[35m (6.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
Redirected to http://localhost:4567/locations/8
Completed 302 Found in 11ms (ActiveRecord: 7.2ms)


Started GET "/locations/8" for 127.0.0.1 at 2014-04-28 08:00:50 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')
  [1m[36mPatient Load (0.1ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'[0m
  Rendered locations/show.html.haml within layouts/application (1.9ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-28 08:00:50 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-28 08:00:50 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-28 08:00:50 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-28 08:00:50 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-28 08:00:50 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-28 08:00:50 -0400


Started GET "/locations/8/patients/9" for 127.0.0.1 at 2014-04-28 08:00:52 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"9"}
  [1m[35mLocation Load (0.3ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 9 LIMIT 1[0m
  [1m[35mMed Load (0.2ms)[0m  SELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 9
  Rendered patients/show.html.haml within layouts/application (3.1ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.6ms)


Started GET "/locations/8/patients/9/meds/new" for 127.0.0.1 at 2014-04-28 08:00:54 -0400
Processing by MedsController#new as HTML
  Parameters: {"location_id"=>"8", "patient_id"=>"9"}
  [1m[36mLocation Load (0.3ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 9 LIMIT 1
  [1m[36mMed Load (0.2ms)[0m  [1mSELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 9[0m
  Rendered meds/_form.html.haml (3.4ms)
  Rendered meds/new.html.haml within layouts/application (4.3ms)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.7ms)


Started POST "/locations/8/patients/9/meds" for 127.0.0.1 at 2014-04-28 08:00:57 -0400
Processing by MedsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"hzRSUzduVCp+j3KN+Ezz8LIGVNrgSjdSe8CNnK3SBUE=", "med"=>{"name"=>"Adventure", "cost"=>"", "description"=>""}, "commit"=>"Create Med", "location_id"=>"8", "patient_id"=>"9"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `meds` (`cost`, `created_at`, `description`, `name`, `patient_id`, `updated_at`) VALUES ('', '2014-04-28 12:00:57', '', 'Adventure', 9, '2014-04-28 12:00:57')[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
Redirected to http://localhost:4567/locations/8/patients/9
Completed 302 Found in 6ms (ActiveRecord: 1.4ms)


Started GET "/locations/8/patients/9" for 127.0.0.1 at 2014-04-28 08:00:57 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"9"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 9 LIMIT 1
  [1m[36mMed Load (0.2ms)[0m  [1mSELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 9[0m
  Rendered patients/show.html.haml within layouts/application (5.4ms)
Completed 500 Internal Server Error in 9ms

ActionView::Template::Error (No route matches {:action=>"show", :controller=>"meds", :format=>nil, :id=>nil, :location_id=>#<Location id: 8, created_at: "2014-04-28 02:48:42", updated_at: "2014-04-28 02:48:42", name: "sdklh", phone_number: "">, :patient_id=>#<Patient id: 9, location_id: 8, name: "Joshua Rivers", phone_number: "", description: "", workflow_state: "waiting", created_at: "2014-04-28 12:00:50", updated_at: "2014-04-28 12:00:50">} missing required keys: [:id]):
    21:         |
    22:         = med.cost
    23:         |
    24:         = link_to "Delete", location_patient_med_path(@location, @patient), method: :delete
  app/views/patients/show.html.haml:24:in `block in _app_views_patients_show_html_haml__3799304056611819500_2162812620'
  app/views/patients/show.html.haml:18:in `_app_views_patients_show_html_haml__3799304056611819500_2162812620'


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (12.0ms)


Started GET "/locations/8/patients/9" for 127.0.0.1 at 2014-04-28 08:01:22 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"9"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 9 LIMIT 1[0m
  [1m[35mMed Load (0.3ms)[0m  SELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 9
  Rendered patients/show.html.haml within layouts/application (5.1ms)
Completed 500 Internal Server Error in 9ms

ActionView::Template::Error (No route matches {:action=>"show", :controller=>"meds", :id=>nil, :location_id=>"8", :patient_id=>"9"} missing required keys: [:id]):
    21:         |
    22:         = med.cost
    23:         |
    24:         = link_to "Delete", location_patient_med_path(@location, @patient, @med), method: :delete
  app/views/patients/show.html.haml:24:in `block in _app_views_patients_show_html_haml__3799304056611819500_2161030460'
  app/views/patients/show.html.haml:18:in `_app_views_patients_show_html_haml__3799304056611819500_2161030460'


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (8.8ms)


Started GET "/locations/8/patients/9" for 127.0.0.1 at 2014-04-28 08:02:19 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"9"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 9 LIMIT 1
  [1m[36mMed Load (0.2ms)[0m  [1mSELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 9[0m
  Rendered patients/show.html.haml within layouts/application (6.4ms)
Completed 500 Internal Server Error in 21ms

ActionView::Template::Error (No route matches {:action=>"show", :controller=>"meds", :id=>nil, :location_id=>"8", :patient_id=>"9"} missing required keys: [:id]):
    21:         |
    22:         = med.cost
    23:         |
    24:         = link_to "Delete", location_patient_med_path(@location, @patient, @med), method: :delete
  app/views/patients/show.html.haml:24:in `block in _app_views_patients_show_html_haml__3799304056611819500_2161030460'
  app/views/patients/show.html.haml:18:in `_app_views_patients_show_html_haml__3799304056611819500_2161030460'


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (8.6ms)


Started GET "/locations/8/patients/9" for 127.0.0.1 at 2014-04-28 08:03:18 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"9"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 9 LIMIT 1[0m
  [1m[35mMed Load (0.2ms)[0m  SELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 9
  Rendered patients/show.html.haml within layouts/application (6.3ms)
Completed 500 Internal Server Error in 22ms

ActionView::Template::Error (No route matches {:action=>"show", :controller=>"meds", :id=>nil, :location_id=>"8", :patient_id=>"9"} missing required keys: [:id]):
    21:         |
    22:         = med.cost
    23:         |
    24:         = link_to "Delete", location_patient_med_path(@location, @patient, @med), method: :delete
  app/views/patients/show.html.haml:24:in `block in _app_views_patients_show_html_haml__3799304056611819500_2161030460'
  app/views/patients/show.html.haml:18:in `_app_views_patients_show_html_haml__3799304056611819500_2161030460'


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (8.9ms)


Started GET "/locations/8/patients/9" for 127.0.0.1 at 2014-04-28 08:03:29 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"9"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 9 LIMIT 1
  [1m[36mMed Load (0.2ms)[0m  [1mSELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 9[0m
  Rendered patients/show.html.haml within layouts/application (3.1ms)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.6ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-28 08:03:29 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-28 08:03:29 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-28 08:03:29 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-28 08:03:29 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-28 08:03:29 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-28 08:03:29 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-28 08:03:29 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-28 08:03:29 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-28 08:03:29 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-28 08:03:29 -0400


Started DELETE "/locations/8/patients/9/meds/6" for 127.0.0.1 at 2014-04-28 08:03:31 -0400
Processing by MedsController#destroy as HTML
  Parameters: {"authenticity_token"=>"hzRSUzduVCp+j3KN+Ezz8LIGVNrgSjdSe8CNnK3SBUE=", "location_id"=>"8", "patient_id"=>"9", "id"=>"6"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.1ms)[0m  [1mSELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 9 LIMIT 1[0m
  [1m[35mMed Load (0.1ms)[0m  SELECT  `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 9 AND `meds`.`id` = 6 LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM `meds` WHERE `meds`.`id` = 6[0m
Completed 500 Internal Server Error in 7ms

NameError (undefined local variable or method `med' for #<MedsController:0x00000105c865d0>):
  app/controllers/meds_controller.rb:37:in `destroy'


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (22.7ms)


Started DELETE "/locations/8/patients/9/meds/6" for 127.0.0.1 at 2014-04-28 08:03:57 -0400
Processing by MedsController#destroy as HTML
  Parameters: {"authenticity_token"=>"hzRSUzduVCp+j3KN+Ezz8LIGVNrgSjdSe8CNnK3SBUE=", "location_id"=>"8", "patient_id"=>"9", "id"=>"6"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.3ms)[0m  [1mSELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 9 LIMIT 1[0m
  [1m[35mMed Load (0.2ms)[0m  SELECT  `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 9 AND `meds`.`id` = 6 LIMIT 1
Completed 404 Not Found in 17ms

ActiveRecord::RecordNotFound (Couldn't find Med with 'id'=6 [WHERE `meds`.`patient_id` = ?]):
  app/controllers/meds_controller.rb:49:in `find_med'


  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/R1V3R5/.rvm/gems/ruby-2.1.1@database_relations/gems/actionpack-4.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.4ms)


Started GET "/locations/8/patients/9" for 127.0.0.1 at 2014-04-28 08:04:09 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"9"}
  [1m[36mLocation Load (0.3ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 9 LIMIT 1
  [1m[36mMed Load (0.2ms)[0m  [1mSELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 9[0m
  Rendered patients/show.html.haml within layouts/application (3.1ms)
Completed 200 OK in 10ms (Views: 6.8ms | ActiveRecord: 0.6ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-28 08:04:09 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-28 08:04:09 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-28 08:04:09 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-28 08:04:09 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-28 08:04:09 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-28 08:04:09 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-28 08:04:09 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-28 08:04:09 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-28 08:04:09 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-28 08:04:09 -0400


Started GET "/locations/8/patients/9/meds/new" for 127.0.0.1 at 2014-04-28 08:04:11 -0400
Processing by MedsController#new as HTML
  Parameters: {"location_id"=>"8", "patient_id"=>"9"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 9 LIMIT 1[0m
  [1m[35mMed Load (0.2ms)[0m  SELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 9
  Rendered meds/_form.html.haml (5.1ms)
  Rendered meds/new.html.haml within layouts/application (5.9ms)
Completed 200 OK in 16ms (Views: 9.5ms | ActiveRecord: 0.6ms)


Started POST "/locations/8/patients/9/meds" for 127.0.0.1 at 2014-04-28 08:04:16 -0400
Processing by MedsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"hzRSUzduVCp+j3KN+Ezz8LIGVNrgSjdSe8CNnK3SBUE=", "med"=>{"name"=>"Adventure", "cost"=>"", "description"=>""}, "commit"=>"Create Med", "location_id"=>"8", "patient_id"=>"9"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 9 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `meds` (`cost`, `created_at`, `description`, `name`, `patient_id`, `updated_at`) VALUES ('', '2014-04-28 12:04:16', '', 'Adventure', 9, '2014-04-28 12:04:16')
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:4567/locations/8/patients/9
Completed 302 Found in 11ms (ActiveRecord: 1.6ms)


Started GET "/locations/8/patients/9" for 127.0.0.1 at 2014-04-28 08:04:16 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"9"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 9 LIMIT 1[0m
  [1m[35mMed Load (0.2ms)[0m  SELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 9
  Rendered patients/show.html.haml within layouts/application (1.1ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.5ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-28 08:04:16 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-28 08:04:16 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-28 08:04:16 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-28 08:04:16 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-28 08:04:16 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-28 08:04:16 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-28 08:04:16 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-28 08:04:16 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-28 08:04:16 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-28 08:04:16 -0400


Started DELETE "/locations/8/patients/9/meds/7" for 127.0.0.1 at 2014-04-28 08:04:17 -0400
Processing by MedsController#destroy as HTML
  Parameters: {"authenticity_token"=>"hzRSUzduVCp+j3KN+Ezz8LIGVNrgSjdSe8CNnK3SBUE=", "location_id"=>"8", "patient_id"=>"9", "id"=>"7"}
  [1m[36mLocation Load (0.3ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.2ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 9 LIMIT 1
  [1m[36mMed Load (0.1ms)[0m  [1mSELECT  `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 9 AND `meds`.`id` = 7 LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM `meds` WHERE `meds`.`id` = 7
Redirected to http://localhost:4567/locations/8/patients/9
Completed 302 Found in 4ms (ActiveRecord: 1.4ms)


Started GET "/locations/8/patients/9" for 127.0.0.1 at 2014-04-28 08:04:17 -0400
Processing by PatientsController#show as HTML
  Parameters: {"location_id"=>"8", "id"=>"9"}
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT  `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`id` = 9 LIMIT 1
  [1m[36mMed Load (0.2ms)[0m  [1mSELECT `meds`.* FROM `meds`  WHERE `meds`.`patient_id` = 9[0m
  Rendered patients/show.html.haml within layouts/application (1.0ms)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.5ms)


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-04-28 08:04:17 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-04-28 08:04:17 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-04-28 08:04:17 -0400


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-04-28 08:04:17 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-04-28 08:04:17 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-04-28 08:04:17 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-04-28 08:04:17 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-04-28 08:04:17 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-04-28 08:04:17 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-04-28 08:04:17 -0400


Started GET "/locations/8" for 127.0.0.1 at 2014-04-28 08:04:25 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mLocation Load (0.2ms)[0m  SELECT  `locations`.* FROM `locations`  WHERE `locations`.`id` = 8 LIMIT 1
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND (`patients`.`workflow_state` != 'leave')[0m
  [1m[35mPatient Load (0.1ms)[0m  SELECT `patients`.* FROM `patients`  WHERE `patients`.`location_id` = 8 AND `patients`.`workflow_state` = 'leave'
  Rendered locations/show.html.haml within layouts/application (2.1ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.5ms)
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.9ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateLocations (20140421171255)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "locations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140421171255"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddFieldsToLocations (20140421172005)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "locations" ADD "name" varchar(255)
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "locations" ADD "phone_number" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140421172005"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreatePatients (20140421172618)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "patients" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "location_id" integer, "name" varchar(255), "phone_number" varchar(255), "description" text, "workflow_state" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140421172618"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateMeds (20140421172623)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "meds" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "locations_id" integer, "name" varchar(255), "cost" varchar(255), "description" text, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140421172623"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to RemoveColumnsFromMeds (20140421175220)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.8ms)[0m  [1mCREATE TEMPORARY TABLE "ameds" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "locations_id" integer, "name" varchar(255), "cost" varchar(255), "description" text, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "meds"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "meds"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "meds" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "cost" varchar(255), "description" text, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "ameds"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "ameds"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140421175220"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to AddToMeds (20140421175418)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "meds" ADD "patient_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140421175418"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m


Started GET "/" for 127.0.0.1 at 2014-05-22 12:19:00 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomeController#index as HTML
  [1m[35mLocation Load (0.1ms)[0m  SELECT "locations".* FROM "locations"
  Rendered home/index.html.haml within layouts/application (2.9ms)
Completed 200 OK in 235ms (Views: 226.2ms | ActiveRecord: 0.1ms)


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-05-22 12:19:01 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:01 -0400


Started GET "/assets/locations.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:01 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:01 -0400


Started GET "/assets/meds.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:01 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-05-22 12:19:01 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:01 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:01 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:01 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:01 -0400


Started GET "/locations/new" for 127.0.0.1 at 2014-05-22 12:19:03 -0400
Processing by LocationsController#new as HTML
  Rendered layouts/_error_messages.html.haml (2.3ms)
  Rendered locations/_form.html.haml (13.2ms)
  Rendered locations/new.html.haml within layouts/application (16.7ms)
Completed 200 OK in 23ms (Views: 21.5ms | ActiveRecord: 0.3ms)


Started POST "/locations" for 127.0.0.1 at 2014-05-22 12:19:06 -0400
Processing by LocationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"hlZvFcSpoTbKokT2touXievy43iZGYZrs4A7p6lqelc=", "location"=>{"name"=>"asd", "phone_number"=>""}, "commit"=>"Create Location"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "locations" ("created_at", "name", "phone_number", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", "2014-05-22 16:19:06.275872"], ["name", "asd"], ["phone_number", ""], ["updated_at", "2014-05-22 16:19:06.275872"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2014-05-22 12:19:06 -0400
Processing by HomeController#index as HTML
  [1m[35mLocation Load (0.2ms)[0m  SELECT "locations".* FROM "locations"
  Rendered home/index.html.haml within layouts/application (1.0ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-05-22 12:19:06 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:06 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:06 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:06 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:06 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:06 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:06 -0400


Started GET "/locations/1" for 127.0.0.1 at 2014-05-22 12:19:08 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLocation Load (0.1ms)[0m  [1mSELECT  "locations".* FROM "locations"  WHERE "locations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPatient Load (0.1ms)[0m  SELECT "patients".* FROM "patients"  WHERE "patients"."location_id" = ? AND ("patients"."workflow_state" != 'leave')  [["location_id", 1]]
  [1m[36mPatient Load (0.1ms)[0m  [1mSELECT "patients".* FROM "patients"  WHERE "patients"."location_id" = ? AND "patients"."workflow_state" = 'leave'[0m  [["location_id", 1]]
  Rendered locations/show.html.haml within layouts/application (5.4ms)
Completed 200 OK in 23ms (Views: 9.1ms | ActiveRecord: 0.5ms)


Started GET "/locations/1/patients/new" for 127.0.0.1 at 2014-05-22 12:19:09 -0400
Processing by PatientsController#new as HTML
  Parameters: {"location_id"=>"1"}
  [1m[35mLocation Load (0.1ms)[0m  SELECT  "locations".* FROM "locations"  WHERE "locations"."id" = ? LIMIT 1  [["id", 1]]
  Rendered layouts/_error_messages.html.haml (0.1ms)
  Rendered patients/_form.html.haml (6.1ms)
  Rendered patients/new.html.haml within layouts/application (7.7ms)
Completed 200 OK in 18ms (Views: 11.9ms | ActiveRecord: 0.2ms)


Started POST "/locations/1/patients" for 127.0.0.1 at 2014-05-22 12:19:15 -0400
Processing by PatientsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"hlZvFcSpoTbKokT2touXievy43iZGYZrs4A7p6lqelc=", "patient"=>{"name"=>"sdfs", "phone_number"=>"asdf", "description"=>"asdf"}, "commit"=>"Create Patient", "location_id"=>"1"}
  [1m[36mLocation Load (0.1ms)[0m  [1mSELECT  "locations".* FROM "locations"  WHERE "locations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "patients" ("created_at", "description", "location_id", "name", "phone_number", "updated_at", "workflow_state") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", "2014-05-22 16:19:15.643266"], ["description", "asdf"], ["location_id", 1], ["name", "sdfs"], ["phone_number", "asdf"], ["updated_at", "2014-05-22 16:19:15.643266"], ["workflow_state", "waiting"]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/locations/1
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)


Started GET "/locations/1" for 127.0.0.1 at 2014-05-22 12:19:15 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLocation Load (0.1ms)[0m  [1mSELECT  "locations".* FROM "locations"  WHERE "locations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPatient Load (0.1ms)[0m  SELECT "patients".* FROM "patients"  WHERE "patients"."location_id" = ? AND ("patients"."workflow_state" != 'leave')  [["location_id", 1]]
  [1m[36mPatient Load (0.0ms)[0m  [1mSELECT "patients".* FROM "patients"  WHERE "patients"."location_id" = ? AND "patients"."workflow_state" = 'leave'[0m  [["location_id", 1]]
  Rendered locations/show.html.haml within layouts/application (5.9ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-05-22 12:19:15 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:15 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:15 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:15 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:15 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:15 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:15 -0400


Started PATCH "/locations/1/patients/1/xray" for 127.0.0.1 at 2014-05-22 12:19:17 -0400
Processing by PatientsController#xray as HTML
  Parameters: {"authenticity_token"=>"hlZvFcSpoTbKokT2touXievy43iZGYZrs4A7p6lqelc=", "location_id"=>"1", "id"=>"1"}
  [1m[35mLocation Load (0.1ms)[0m  SELECT  "locations".* FROM "locations"  WHERE "locations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPatient Load (0.1ms)[0m  [1mSELECT  "patients".* FROM "patients"  WHERE "patients"."location_id" = ? AND "patients"."id" = ? LIMIT 1[0m  [["location_id", 1], ["id", 1]]
  [1m[35mSQL (1.1ms)[0m  UPDATE "patients" SET "workflow_state" = 'xray' WHERE "patients"."id" = 1
Redirected to http://localhost:3000/locations/1
Completed 302 Found in 4ms (ActiveRecord: 1.3ms)


Started GET "/locations/1" for 127.0.0.1 at 2014-05-22 12:19:17 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLocation Load (0.1ms)[0m  [1mSELECT  "locations".* FROM "locations"  WHERE "locations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPatient Load (0.1ms)[0m  SELECT "patients".* FROM "patients"  WHERE "patients"."location_id" = ? AND ("patients"."workflow_state" != 'leave')  [["location_id", 1]]
  [1m[36mPatient Load (0.0ms)[0m  [1mSELECT "patients".* FROM "patients"  WHERE "patients"."location_id" = ? AND "patients"."workflow_state" = 'leave'[0m  [["location_id", 1]]
  Rendered locations/show.html.haml within layouts/application (1.4ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.2ms)


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:17 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:17 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:17 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:17 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-05-22 12:19:17 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:17 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:17 -0400


Started PATCH "/locations/1/patients/1/pay" for 127.0.0.1 at 2014-05-22 12:19:27 -0400
Processing by PatientsController#pay as HTML
  Parameters: {"authenticity_token"=>"hlZvFcSpoTbKokT2touXievy43iZGYZrs4A7p6lqelc=", "location_id"=>"1", "id"=>"1"}
  [1m[35mLocation Load (0.1ms)[0m  SELECT  "locations".* FROM "locations"  WHERE "locations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPatient Load (0.0ms)[0m  [1mSELECT  "patients".* FROM "patients"  WHERE "patients"."location_id" = ? AND "patients"."id" = ? LIMIT 1[0m  [["location_id", 1], ["id", 1]]
  [1m[35mSQL (1.2ms)[0m  UPDATE "patients" SET "workflow_state" = 'pay' WHERE "patients"."id" = 1
Redirected to http://localhost:3000/locations/1
Completed 302 Found in 4ms (ActiveRecord: 1.3ms)


Started GET "/locations/1" for 127.0.0.1 at 2014-05-22 12:19:27 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLocation Load (0.1ms)[0m  [1mSELECT  "locations".* FROM "locations"  WHERE "locations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPatient Load (0.1ms)[0m  SELECT "patients".* FROM "patients"  WHERE "patients"."location_id" = ? AND ("patients"."workflow_state" != 'leave')  [["location_id", 1]]
  [1m[36mPatient Load (0.0ms)[0m  [1mSELECT "patients".* FROM "patients"  WHERE "patients"."location_id" = ? AND "patients"."workflow_state" = 'leave'[0m  [["location_id", 1]]
  Rendered locations/show.html.haml within layouts/application (1.3ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-05-22 12:19:28 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:28 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:28 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:28 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:28 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:28 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:28 -0400


Started PATCH "/locations/1/patients/1/leave" for 127.0.0.1 at 2014-05-22 12:19:29 -0400
Processing by PatientsController#leave as HTML
  Parameters: {"authenticity_token"=>"hlZvFcSpoTbKokT2touXievy43iZGYZrs4A7p6lqelc=", "location_id"=>"1", "id"=>"1"}
  [1m[35mLocation Load (0.1ms)[0m  SELECT  "locations".* FROM "locations"  WHERE "locations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPatient Load (0.1ms)[0m  [1mSELECT  "patients".* FROM "patients"  WHERE "patients"."location_id" = ? AND "patients"."id" = ? LIMIT 1[0m  [["location_id", 1], ["id", 1]]
  [1m[35mSQL (1.2ms)[0m  UPDATE "patients" SET "workflow_state" = 'leave' WHERE "patients"."id" = 1
Redirected to http://localhost:3000/locations/1
Completed 302 Found in 4ms (ActiveRecord: 1.4ms)


Started GET "/locations/1" for 127.0.0.1 at 2014-05-22 12:19:29 -0400
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLocation Load (0.1ms)[0m  [1mSELECT  "locations".* FROM "locations"  WHERE "locations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPatient Load (0.0ms)[0m  SELECT "patients".* FROM "patients"  WHERE "patients"."location_id" = ? AND ("patients"."workflow_state" != 'leave')  [["location_id", 1]]
  [1m[36mPatient Load (0.0ms)[0m  [1mSELECT "patients".* FROM "patients"  WHERE "patients"."location_id" = ? AND "patients"."workflow_state" = 'leave'[0m  [["location_id", 1]]
  Rendered locations/show.html.haml within layouts/application (1.1ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-05-22 12:19:29 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:29 -0400


Started GET "/assets/home.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:29 -0400


Started GET "/assets/patients.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:29 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:29 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:29 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-05-22 12:19:29 -0400
